<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5"><title>Scala | 哑舍</title><meta name="description" content="Scala"><meta name="keywords" content="Scala"><meta name="author" content="Machine"><meta name="copyright" content="Machine"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/cat2.ico"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin><link rel="preconnect" href="//busuanzi.ibruce.info"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Scala"><meta name="twitter:description" content="Scala"><meta name="twitter:image" content="https://machine4869.gitee.io/img/default_p10.jpeg"><meta property="og:type" content="article"><meta property="og:title" content="Scala"><meta property="og:url" content="https://machine4869.gitee.io/2020/01/18/20200118180040984/"><meta property="og:site_name" content="哑舍"><meta property="og:description" content="Scala"><meta property="og:image" content="https://machine4869.gitee.io/img/default_p10.jpeg"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>const autoChangeMode = 'false'
var t = Cookies.get("theme");
if (autoChangeMode == '1'){
const isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
const isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
const isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

if (t === undefined){
  if (isLightMode) activateLightMode()
  else if (isDarkMode) activateDarkMode()
  else if (isNotSpecified || hasNoSupport){
    console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
    now = new Date();
    hour = now.getHours();
    isNight = hour < 6 || hour >= 18
    isNight ? activateDarkMode() : activateLightMode()
}
} else if (t == 'light') activateLightMode()
else activateDarkMode()


} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css"><link rel="canonical" href="https://machine4869.gitee.io/2020/01/18/20200118180040984/"><link rel="prev" title="Spark-基础" href="https://machine4869.gitee.io/2020/02/11/20200211151842560/"><link rel="next" title="Electron-跨平台桌面开发" href="https://machine4869.gitee.io/2019/12/31/20191231112532671/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容:${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://machine4869.gitee.io/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    title: 'Snackbar.bookmark.title',
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: {"bookmark":{"title":"Snackbar.bookmark.title","message_prev":"按","message_next":"键将本页加入书签"},"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#2d3035","position":"bottom-left"},
  baiduPush: false,
  isHome: false,
  isPost: true
  
}</script><meta name="generator" content="Hexo 4.2.0"></head><body><header> <div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">哑舍</a></span><span class="toggle-menu pull_right close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 更多</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> 豆瓣电影</span></a></li><li><a class="site-page" href="/photos/"><i class="fa-fw fa fa-picture-o"></i><span> 照片墙</span></a></li></ul></div></div></span><span class="pull_right" id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> 搜索</span></a></span></div></header><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/head.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">134</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">27</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">45</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 更多</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> 豆瓣电影</span></a></li><li><a class="site-page" href="/photos/"><i class="fa-fw fa fa-picture-o"></i><span> 照片墙</span></a></li></ul></div></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">目录</div><div class="sidebar-toc__content"><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#Scala概述"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text">Scala概述</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#介绍"><span class="toc_mobile_items-number">1.1.</span> <span class="toc_mobile_items-text">介绍</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#环境安装-windows"><span class="toc_mobile_items-number">1.2.</span> <span class="toc_mobile_items-text">环境安装-windows</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#环境安装-IDEA"><span class="toc_mobile_items-number">1.3.</span> <span class="toc_mobile_items-text">环境安装-IDEA</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#第一个Scala程序"><span class="toc_mobile_items-number">1.4.</span> <span class="toc_mobile_items-text">第一个Scala程序</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#变量"><span class="toc_mobile_items-number">2.</span> <span class="toc_mobile_items-text">变量</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#运算符"><span class="toc_mobile_items-number">3.</span> <span class="toc_mobile_items-text">运算符</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#程序流程控制"><span class="toc_mobile_items-number">4.</span> <span class="toc_mobile_items-text">程序流程控制</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#顺序控制"><span class="toc_mobile_items-number">4.1.</span> <span class="toc_mobile_items-text">顺序控制</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#分支控制"><span class="toc_mobile_items-number">4.2.</span> <span class="toc_mobile_items-text">分支控制</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#循环控制：for"><span class="toc_mobile_items-number">4.3.</span> <span class="toc_mobile_items-text">循环控制：for</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#循环控制：while"><span class="toc_mobile_items-number">4.4.</span> <span class="toc_mobile_items-text">循环控制：while</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#循环控制：循环中断"><span class="toc_mobile_items-number">4.5.</span> <span class="toc_mobile_items-text">循环控制：循环中断</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#函数式编程-基础"><span class="toc_mobile_items-number">5.</span> <span class="toc_mobile_items-text">函数式编程-基础</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#函数-方法"><span class="toc_mobile_items-number">5.1.</span> <span class="toc_mobile_items-text">函数&#x2F;方法</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#高阶函数"><span class="toc_mobile_items-number">5.2.</span> <span class="toc_mobile_items-text">高阶函数</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#函数柯里化"><span class="toc_mobile_items-number">5.3.</span> <span class="toc_mobile_items-text">函数柯里化</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#参数（类型）判断"><span class="toc_mobile_items-number">5.4.</span> <span class="toc_mobile_items-text">参数（类型）判断</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#惰性函数"><span class="toc_mobile_items-number">5.5.</span> <span class="toc_mobile_items-text">惰性函数</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#异常"><span class="toc_mobile_items-number">5.6.</span> <span class="toc_mobile_items-text">异常</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#面向对象编程"><span class="toc_mobile_items-number">6.</span> <span class="toc_mobile_items-text">面向对象编程</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#类与对象"><span class="toc_mobile_items-number">6.1.</span> <span class="toc_mobile_items-text">类与对象</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#包"><span class="toc_mobile_items-number">6.2.</span> <span class="toc_mobile_items-text">包</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#封装"><span class="toc_mobile_items-number">6.3.</span> <span class="toc_mobile_items-text">封装</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#继承"><span class="toc_mobile_items-number">6.4.</span> <span class="toc_mobile_items-text">继承</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#静态属性和静态方法"><span class="toc_mobile_items-number">6.5.</span> <span class="toc_mobile_items-text">静态属性和静态方法</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#单例模式"><span class="toc_mobile_items-number">6.6.</span> <span class="toc_mobile_items-text">单例模式</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#接口-amp-特质-trait"><span class="toc_mobile_items-number">6.7.</span> <span class="toc_mobile_items-text">接口 &amp; 特质(trait)</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#type关键字"><span class="toc_mobile_items-number">6.8.</span> <span class="toc_mobile_items-text">type关键字</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#嵌套类"><span class="toc_mobile_items-number">6.9.</span> <span class="toc_mobile_items-text">嵌套类</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#隐式转换和隐式参数"><span class="toc_mobile_items-number">7.</span> <span class="toc_mobile_items-text">隐式转换和隐式参数</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#集合"><span class="toc_mobile_items-number">8.</span> <span class="toc_mobile_items-text">集合</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#可变与不可变"><span class="toc_mobile_items-number">8.1.</span> <span class="toc_mobile_items-text">可变与不可变</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#数组"><span class="toc_mobile_items-number">8.2.</span> <span class="toc_mobile_items-text">数组</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#元组-Tuple"><span class="toc_mobile_items-number">8.3.</span> <span class="toc_mobile_items-text">元组 Tuple</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#列表-List"><span class="toc_mobile_items-number">8.4.</span> <span class="toc_mobile_items-text">列表 List</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#列表-ListBuffer"><span class="toc_mobile_items-number">8.5.</span> <span class="toc_mobile_items-text">列表 ListBuffer</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#队列-Queue"><span class="toc_mobile_items-number">8.6.</span> <span class="toc_mobile_items-text">队列 Queue</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#映射-Map"><span class="toc_mobile_items-number">8.7.</span> <span class="toc_mobile_items-text">映射 Map</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#集-Set"><span class="toc_mobile_items-number">8.8.</span> <span class="toc_mobile_items-text">集 Set</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#集合应用操作"><span class="toc_mobile_items-number">9.</span> <span class="toc_mobile_items-text">集合应用操作</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#map-映射操作"><span class="toc_mobile_items-number">9.1.</span> <span class="toc_mobile_items-text">map 映射操作</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#flatmap-映射"><span class="toc_mobile_items-number">9.2.</span> <span class="toc_mobile_items-text">flatmap 映射</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#过滤-filter"><span class="toc_mobile_items-number">9.3.</span> <span class="toc_mobile_items-text">过滤-filter</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#模式匹配"><span class="toc_mobile_items-number">10.</span> <span class="toc_mobile_items-text">模式匹配</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#函数式编程-高阶"><span class="toc_mobile_items-number">11.</span> <span class="toc_mobile_items-text">函数式编程-高阶</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#泛型-上下界-视图界定-上下文界定-协变逆变不变"><span class="toc_mobile_items-number">12.</span> <span class="toc_mobile_items-text">泛型 上下界 视图界定 上下文界定 协变逆变不变</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#AKKA"><span class="toc_mobile_items-number">13.</span> <span class="toc_mobile_items-text">AKKA</span></a></li></ol></div></div></div><div id="body-wrap"><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true">     </i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Scala概述"><span class="toc-number">1.</span> <span class="toc-text">Scala概述</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#介绍"><span class="toc-number">1.1.</span> <span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#环境安装-windows"><span class="toc-number">1.2.</span> <span class="toc-text">环境安装-windows</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#环境安装-IDEA"><span class="toc-number">1.3.</span> <span class="toc-text">环境安装-IDEA</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#第一个Scala程序"><span class="toc-number">1.4.</span> <span class="toc-text">第一个Scala程序</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#变量"><span class="toc-number">2.</span> <span class="toc-text">变量</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#运算符"><span class="toc-number">3.</span> <span class="toc-text">运算符</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#程序流程控制"><span class="toc-number">4.</span> <span class="toc-text">程序流程控制</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#顺序控制"><span class="toc-number">4.1.</span> <span class="toc-text">顺序控制</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#分支控制"><span class="toc-number">4.2.</span> <span class="toc-text">分支控制</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#循环控制：for"><span class="toc-number">4.3.</span> <span class="toc-text">循环控制：for</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#循环控制：while"><span class="toc-number">4.4.</span> <span class="toc-text">循环控制：while</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#循环控制：循环中断"><span class="toc-number">4.5.</span> <span class="toc-text">循环控制：循环中断</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#函数式编程-基础"><span class="toc-number">5.</span> <span class="toc-text">函数式编程-基础</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#函数-方法"><span class="toc-number">5.1.</span> <span class="toc-text">函数&#x2F;方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#高阶函数"><span class="toc-number">5.2.</span> <span class="toc-text">高阶函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#函数柯里化"><span class="toc-number">5.3.</span> <span class="toc-text">函数柯里化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#参数（类型）判断"><span class="toc-number">5.4.</span> <span class="toc-text">参数（类型）判断</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#惰性函数"><span class="toc-number">5.5.</span> <span class="toc-text">惰性函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#异常"><span class="toc-number">5.6.</span> <span class="toc-text">异常</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#面向对象编程"><span class="toc-number">6.</span> <span class="toc-text">面向对象编程</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#类与对象"><span class="toc-number">6.1.</span> <span class="toc-text">类与对象</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#包"><span class="toc-number">6.2.</span> <span class="toc-text">包</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#封装"><span class="toc-number">6.3.</span> <span class="toc-text">封装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#继承"><span class="toc-number">6.4.</span> <span class="toc-text">继承</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#静态属性和静态方法"><span class="toc-number">6.5.</span> <span class="toc-text">静态属性和静态方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#单例模式"><span class="toc-number">6.6.</span> <span class="toc-text">单例模式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#接口-amp-特质-trait"><span class="toc-number">6.7.</span> <span class="toc-text">接口 &amp; 特质(trait)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#type关键字"><span class="toc-number">6.8.</span> <span class="toc-text">type关键字</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#嵌套类"><span class="toc-number">6.9.</span> <span class="toc-text">嵌套类</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#隐式转换和隐式参数"><span class="toc-number">7.</span> <span class="toc-text">隐式转换和隐式参数</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#集合"><span class="toc-number">8.</span> <span class="toc-text">集合</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#可变与不可变"><span class="toc-number">8.1.</span> <span class="toc-text">可变与不可变</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#数组"><span class="toc-number">8.2.</span> <span class="toc-text">数组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#元组-Tuple"><span class="toc-number">8.3.</span> <span class="toc-text">元组 Tuple</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#列表-List"><span class="toc-number">8.4.</span> <span class="toc-text">列表 List</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#列表-ListBuffer"><span class="toc-number">8.5.</span> <span class="toc-text">列表 ListBuffer</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#队列-Queue"><span class="toc-number">8.6.</span> <span class="toc-text">队列 Queue</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#映射-Map"><span class="toc-number">8.7.</span> <span class="toc-text">映射 Map</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#集-Set"><span class="toc-number">8.8.</span> <span class="toc-text">集 Set</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#集合应用操作"><span class="toc-number">9.</span> <span class="toc-text">集合应用操作</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#map-映射操作"><span class="toc-number">9.1.</span> <span class="toc-text">map 映射操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#flatmap-映射"><span class="toc-number">9.2.</span> <span class="toc-text">flatmap 映射</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#过滤-filter"><span class="toc-number">9.3.</span> <span class="toc-text">过滤-filter</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#模式匹配"><span class="toc-number">10.</span> <span class="toc-text">模式匹配</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#函数式编程-高阶"><span class="toc-number">11.</span> <span class="toc-text">函数式编程-高阶</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#泛型-上下界-视图界定-上下文界定-协变逆变不变"><span class="toc-number">12.</span> <span class="toc-text">泛型 上下界 视图界定 上下文界定 协变逆变不变</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#AKKA"><span class="toc-number">13.</span> <span class="toc-text">AKKA</span></a></li></ol></div></div></div><main id="content-outer"><div id="top-container" style="background-image: url(/img/default_p10.jpeg)"><div id="post-info"><div id="post-title"><div class="posttitle">Scala</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 发表于 2020-01-18<span class="post-meta__separator">|</span><i class="fa fa-history fa-fw" aria-hidden="true"></i> 更新于 2020-02-23</time><span class="post-meta__separator">|</span><span><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%88%86%E5%B8%83%E5%BC%8F/">大数据分布式</a><i class="fa fa-angle-right fa-fw" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%88%86%E5%B8%83%E5%BC%8F/Spark/">Spark</a></span><div class="post-meta-wordcount"><i class="fa fa-file-word-o post-meta__icon fa-fw" aria-hidden="true"></i><span>字数总计:</span><span class="word-count">8.1k</span><span class="post-meta__separator">|</span><i class="fa fa-clock-o post-meta__icon fa-fw" aria-hidden="true"></i><span>阅读时长: 31 分钟</span><div class="post-meta-pv-cv"><span class="post-meta__separator">|</span><span><i class="fa fa-eye post-meta__icon fa-fw" aria-hidden="true"> </i>阅读量:</span><span id="busuanzi_value_page_pv"></span><span class="post-meta__separator">|</span><i class="fa fa-comments-o post-meta__icon fa-fw" aria-hidden="true"></i><span>评论数:</span><a href="/2020/01/18/20200118180040984/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count comment-count" data-xid="/2020/01/18/20200118180040984/" itemprop="commentCount"></span></a></div></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><blockquote>
<p>引言：</p>
<ul>
<li>Spark 就是使用 Scala 编写的。</li>
<li>Scala 是 Scalable Language 的简写，是一门多范式(编程的方式[面向对象编程,函数式编程])的编程语言  </li>
</ul>
<p>参考：</p>
<ul>
<li><p><a href="http://www.atguigu.com" target="_blank" rel="noopener">www.atguigu.com</a></p>
</li>
<li><p><a href="https://www.bilibili.com/video/av39126512?from=search&amp;seid=1688498345924793113" target="_blank" rel="noopener">https://www.bilibili.com/video/av39126512?from=search&amp;seid=1688498345924793113</a></p>
</li>
</ul>
</blockquote>
<p>[toc]</p>
<h1 id="Scala概述"><a href="#Scala概述" class="headerlink" title="Scala概述"></a>Scala概述</h1><h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>Spark源码</p>
<p>.scala &gt; .class  &gt;  JVM虚拟机</p>
<h2 id="环境安装-windows"><a href="#环境安装-windows" class="headerlink" title="环境安装-windows"></a>环境安装-windows</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">下载：http:&#x2F;&#x2F;www.scala-lang.org&#x2F;    压缩包</span><br><span class="line"></span><br><span class="line">配置JDK的环境变量 JAVA_HOME</span><br><span class="line"></span><br><span class="line">配置Scala的环境变量SCALA_HOME</span><br><span class="line"></span><br><span class="line">将Scala安装目录下的bin目录加入到PATH环境变量。在PATH变量中添加：%SCALA_HOME%\bin</span><br><span class="line"></span><br><span class="line">在命令行窗口中输入“scala”命令打开scala解释器(REPL)，安装完成</span><br></pre></td></tr></table></figure></div>

<p>hello.scala</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">scala</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> =  &#123;</span><br><span class="line">         println(“<span class="type">Hello</span> <span class="type">World</span>”)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>编译</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scalac Hello.scala</span><br></pre></td></tr></table></figure></div>

<p>运行</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scala Hello</span><br></pre></td></tr></table></figure></div>

<p>直接运行</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scala Hello.scala</span><br></pre></td></tr></table></figure></div>

<p>没有在磁盘生成.class ,直接在内存里操作的。</p>
<h2 id="环境安装-IDEA"><a href="#环境安装-IDEA" class="headerlink" title="环境安装-IDEA"></a>环境安装-IDEA</h2><p>插件安装</p>
<p>idea下的hello world</p>
<h2 id="第一个Scala程序"><a href="#第一个Scala程序" class="headerlink" title="第一个Scala程序"></a>第一个Scala程序</h2><p>不用再写分号了（太优秀了…java啥时候学学呀）</p>
<p><strong>输出的三种方式</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">scala</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 字符串通过+号连接（类似java）</span></span><br><span class="line">println(<span class="string">"name="</span> + name + <span class="string">" age="</span> + age + <span class="string">" url="</span> + url)</span><br><span class="line"></span><br><span class="line"><span class="comment">// printf用法 （类似C语言）字符串通过 % 传值。(格式化输出)</span></span><br><span class="line">printf(<span class="string">"name=%s, age=%d, url=%s \n"</span>, name, age, url)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 字符串插值：通过$引用(类似PHP）</span></span><br><span class="line">println(<span class="string">s"name=<span class="subst">$name</span>, age=<span class="subst">$age</span>, url=<span class="subst">$url</span>"</span>)</span><br></pre></td></tr></table></figure></div>

<p><strong>反编译</strong></p>
<p>scala字节码 &gt; 反编译&gt; java代码</p>
<p>java反编译工具：<strong>jd-gui.exe</strong></p>
<p><strong>注释</strong></p>
<h1 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h1><p><strong>变量说明</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">scala</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">C01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 申明变量</span></span><br><span class="line">  <span class="keyword">var</span> num1: <span class="type">Int</span> = <span class="number">10</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 类型可以省略（自动判断）</span></span><br><span class="line">  <span class="keyword">var</span> num2 = <span class="number">10</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 类型确定后，就不能修改</span></span><br><span class="line">  <span class="comment">// num2 = "1"</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// var 修饰的变量可改变，val 修饰的变量不可改</span></span><br><span class="line">  num2 = <span class="number">20</span></span><br><span class="line">  <span class="keyword">val</span> num3 = <span class="number">10</span></span><br><span class="line">  <span class="comment">// num3 = 20</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// val修饰的对象属性在编译后，等同于加上final</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// var 修饰的对象引用可以改变，val 修饰的则不可改变，但对象的状态(值)却是可以改变的。(比如: 自定义对象、数组、集合等等)</span></span><br><span class="line">  <span class="keyword">val</span> dog = <span class="keyword">new</span> <span class="type">Dog</span>()</span><br><span class="line">  dog.name = <span class="string">"mimi"</span></span><br><span class="line">  <span class="comment">//  dog = new Dog()</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 变量声明时，必须有初始值</span></span><br><span class="line">  <span class="comment">// var num</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p><strong>数据类型</strong></p>
<a href="/2020/01/18/20200118180040984/image-20200118210840247.png" data-fancybox="group" data-caption="image-20200118210840247" class="fancybox"><img alt="image-20200118210840247" style="zoom:60%;" title="image-20200118210840247" data-src="/2020/01/18/20200118180040984/image-20200118210840247.png" class="lazyload"></a>

<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">scala</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 在Scala中数据类型都是对象，也就是说scala没有java中的原生(基本)类型</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Scala数据类型分为两大类 AnyVal(值类型) 和 AnyRef(引用类型)  ?</span></span><br><span class="line"><span class="comment">// 引用类型：集合、java类、scala类。Null在Scala中也是对象。user= Null</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Unit就是void</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 类型隐式转换</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 复杂多变的类型 --&gt; 面向对象编程+函数式编程的融合</span></span><br></pre></td></tr></table></figure></div>



<p><strong>Unit、Null、Nothing</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>Unit</td>
<td>表示无值，和其他语言中void等同。用作不返回任何结果的方法的结果类型。Unit只有一个实例值，写成()。</td>
</tr>
<tr>
<td>Null</td>
<td>null  , Null 类型只有一个实例值  null</td>
</tr>
<tr>
<td>Nothing</td>
<td>Nothing类型在Scala的类层级的最低端；它是任何其他类型的子类型。  当一个函数，我们确定没有正常的返回值，可以用Nothing 来指定返回类型，这样有一个好处，就是我们可以把返回的值（异常）赋给其它的函数或者变量（兼容性）  def  f1():Nothing = {       throw new Exception()  }</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
</tbody></table>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">scala</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// -----------------值类型转换------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// java</span></span><br><span class="line"><span class="comment">//  int num = (int)2.5</span></span><br><span class="line"><span class="comment">// scala</span></span><br><span class="line"><span class="keyword">var</span> num : <span class="type">Int</span> = <span class="number">2.7</span>.toInt</span><br></pre></td></tr></table></figure></div>



<h1 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h1><p>Scala不支持三目运算符 <strong>,</strong> 在Scala中使用 <strong>if – else</strong>的方式实现。</p>
<p>和java差不多</p>
<h1 id="程序流程控制"><a href="#程序流程控制" class="headerlink" title="程序流程控制"></a>程序流程控制</h1><h2 id="顺序控制"><a href="#顺序控制" class="headerlink" title="顺序控制"></a>顺序控制</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">def main(args : Array[String]) : Unit &#x3D; &#123;</span><br><span class="line">        var num1 &#x3D; 12</span><br><span class="line">        var num2 &#x3D; num1 + 2</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h2 id="分支控制"><a href="#分支控制" class="headerlink" title="分支控制"></a>分支控制</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">if()&#123;</span><br><span class="line"></span><br><span class="line">&#125;else if()&#123;</span><br><span class="line"></span><br><span class="line">&#125;else&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h2 id="循环控制：for"><a href="#循环控制：for" class="headerlink" title="循环控制：for"></a>循环控制：for</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">scala</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">println(<span class="string">"案例1：to"</span>)</span><br><span class="line"><span class="keyword">for</span>(i &lt;- <span class="number">1</span> to <span class="number">3</span>)&#123;</span><br><span class="line">    print(i + <span class="string">" "</span>)</span><br><span class="line">&#125;</span><br><span class="line">println()</span><br><span class="line"><span class="comment">// 说明</span></span><br><span class="line"><span class="comment">//i 表示循环的变量， &lt;- 规定好 to 规定</span></span><br><span class="line"><span class="comment">//i 将会从 1-3 循环， 前后闭合 （包括1 和 3）</span></span><br><span class="line"></span><br><span class="line">println(<span class="string">"案例2：until"</span>)</span><br><span class="line"><span class="keyword">for</span>(i &lt;- <span class="number">1</span> until <span class="number">3</span>) &#123;</span><br><span class="line">    print(i + <span class="string">" "</span>)</span><br><span class="line">&#125;</span><br><span class="line">println()</span><br><span class="line"><span class="comment">// 说明:</span></span><br><span class="line"><span class="comment">//这种方式和前面的区别在于 i 是从1 到 (3-1)</span></span><br><span class="line"><span class="comment">//前闭合后开的范围</span></span><br><span class="line"></span><br><span class="line">println(<span class="string">"案例3: 循环守卫"</span>)</span><br><span class="line"><span class="keyword">for</span>(i &lt;- <span class="number">1</span> to <span class="number">3</span> <span class="keyword">if</span> i != <span class="number">2</span>) &#123;</span><br><span class="line">    print(i + <span class="string">" "</span>)</span><br><span class="line">&#125;</span><br><span class="line">println()</span><br><span class="line"><span class="comment">// 说明</span></span><br><span class="line"><span class="comment">//循环守卫，即循环保护式（也称条件判断式，守卫）。保护式为true则进入循环体内部，为false则跳过，类似于continue</span></span><br><span class="line"></span><br><span class="line">println(<span class="string">"案例4：引入变量"</span>)</span><br><span class="line"><span class="keyword">for</span>(i &lt;- <span class="number">1</span> to <span class="number">3</span>; j = <span class="number">4</span> - i) &#123;</span><br><span class="line">    print(j + <span class="string">" "</span>)</span><br><span class="line">&#125;</span><br><span class="line">println()</span><br><span class="line"></span><br><span class="line">println(<span class="string">"案例5：嵌套循环"</span>)</span><br><span class="line"><span class="keyword">for</span>(i &lt;- <span class="number">1</span> to <span class="number">3</span>; j &lt;- <span class="number">1</span> to <span class="number">3</span>) &#123;</span><br><span class="line">    println(<span class="string">" i ="</span> + i + <span class="string">" j = "</span> + j)</span><br><span class="line">&#125;</span><br><span class="line">println()</span><br><span class="line"></span><br><span class="line">println(<span class="string">"案例6：循环返回值"</span>)</span><br><span class="line"><span class="keyword">val</span> res = <span class="keyword">for</span>(i &lt;- <span class="number">1</span> to <span class="number">10</span>) <span class="keyword">yield</span> i * <span class="number">2</span></span><br><span class="line">println(res)</span><br><span class="line"><span class="comment">// 说明</span></span><br><span class="line"><span class="comment">//将遍历过程中处理的结果返回到一个新Vector集合中，使用yield关键字</span></span><br><span class="line">println()</span><br><span class="line"></span><br><span class="line">println(<span class="string">"案例6：使用花括号&#123;&#125;代替小括号()"</span>)</span><br><span class="line"><span class="keyword">for</span>&#123;i &lt;- <span class="number">1</span> to <span class="number">3</span>; j =  i * <span class="number">2</span>&#125; &#123;</span><br><span class="line">    println(<span class="string">" i= "</span> + i + <span class="string">" j= "</span> + j)</span><br><span class="line">&#125;</span><br><span class="line">println()</span><br><span class="line"><span class="comment">// 说明</span></span><br><span class="line"><span class="comment">//&#123;&#125;和()对于for表达式来说都可以</span></span><br><span class="line"><span class="comment">//for 推导式有一个不成文的约定：当for 推导式仅包含单一表达式时使用圆括号，当其包含多个表达式时使用大括号</span></span><br><span class="line"><span class="comment">//当使用&#123;&#125;i 来换行写表达式时，分号就不用写了</span></span><br></pre></td></tr></table></figure></div>

<p>结果：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">案例1：to</span><br><span class="line">1 2 3 </span><br><span class="line">案例2：until</span><br><span class="line">1 2 </span><br><span class="line">案例3: 循环守卫</span><br><span class="line">1 3 </span><br><span class="line">案例4：引入变量</span><br><span class="line">3 2 1 </span><br><span class="line">案例5：嵌套循环</span><br><span class="line"> i &#x3D;1 j &#x3D; 1</span><br><span class="line"> i &#x3D;1 j &#x3D; 2</span><br><span class="line"> i &#x3D;1 j &#x3D; 3</span><br><span class="line"> i &#x3D;2 j &#x3D; 1</span><br><span class="line"> i &#x3D;2 j &#x3D; 2</span><br><span class="line"> i &#x3D;2 j &#x3D; 3</span><br><span class="line"> i &#x3D;3 j &#x3D; 1</span><br><span class="line"> i &#x3D;3 j &#x3D; 2</span><br><span class="line"> i &#x3D;3 j &#x3D; 3</span><br><span class="line"></span><br><span class="line">案例6：循环返回值</span><br><span class="line">Vector(2, 4, 6, 8, 10, 12, 14, 16, 18, 20)</span><br><span class="line"></span><br><span class="line">案例6：使用花括号&#123;&#125;代替小括号()</span><br><span class="line"> i&#x3D; 1 j&#x3D; 2</span><br><span class="line"> i&#x3D; 2 j&#x3D; 4</span><br><span class="line"> i&#x3D; 3 j&#x3D; 6</span><br></pre></td></tr></table></figure></div>

<h2 id="循环控制：while"><a href="#循环控制：while" class="headerlink" title="循环控制：while"></a>循环控制：while</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">scala</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">循环变量初始化 <span class="comment">//循环的四个要素</span></span><br><span class="line"><span class="keyword">while</span> (循环条件) &#123;</span><br><span class="line">    循环体(语句)</span><br><span class="line">    循环变量迭代</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">循环变量初始化;</span><br><span class="line">do&#123;</span><br><span class="line">    循环体(语句)</span><br><span class="line">    循环变量迭代</span><br><span class="line">&#125; <span class="keyword">while</span>(循环条件)</span><br></pre></td></tr></table></figure></div>

<p>推荐使用for</p>
<h2 id="循环控制：循环中断"><a href="#循环控制：循环中断" class="headerlink" title="循环控制：循环中断"></a>循环控制：循环中断</h2><p>去掉了break和continue。</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">scala</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">println(<span class="string">"案例: 循环中断"</span>)</span><br><span class="line"><span class="keyword">for</span>(i &lt;- <span class="number">1</span> to <span class="number">10</span>)&#123;</span><br><span class="line">    print(i + <span class="string">" "</span>)</span><br><span class="line">    <span class="keyword">if</span>(i==<span class="number">5</span>)&#123;</span><br><span class="line">        <span class="keyword">break</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h1 id="函数式编程-基础"><a href="#函数式编程-基础" class="headerlink" title="函数式编程-基础"></a>函数式编程-基础</h1><p>在scala中函数式编程和面向对象编程融合在一起了 </p>
<h2 id="函数-方法"><a href="#函数-方法" class="headerlink" title="函数/方法"></a>函数/方法</h2><p>函数/方法定义</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">def 函数名 ([参数名: 参数类型], ...)[[: 返回值类型] &#x3D;] &#123;</span><br><span class="line">	语句... &#x2F;&#x2F;完成某个功能</span><br><span class="line">	return 返回值</span><br><span class="line">&#125;</span><br><span class="line">返回值形式1:  &#x2F;&#x2F; def 函数名(参数列表) : 数据类型 &#x3D; &#123;函数体&#125;  &#x2F;&#x2F; 返回值确定,清晰   </span><br><span class="line">返回值形式2:  &#x2F;&#x2F; def 函数名(参数列表) &#x3D; &#123;函数体&#125;  &#x2F;&#x2F; 有返回值, 类型是推断出来的</span><br><span class="line">返回值形式3:  &#x2F;&#x2F; def 函数名(参数列表) &#123;函数体&#125;  &#x2F;&#x2F; 无返回值 Unit</span><br><span class="line">如果没有return ,默认以执行到最后一行的结果作为返回值</span><br></pre></td></tr></table></figure></div>

<p>demo</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">scala</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 函数/方法</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// --案例1：调用</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum</span></span>(n1: <span class="type">Int</span>, n2: <span class="type">Int</span>): <span class="type">Int</span> = &#123;</span><br><span class="line">    <span class="keyword">return</span> n1 + n2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// --案例2：可变参数</span></span><br><span class="line"><span class="comment">//支持0到多个参数</span></span><br><span class="line"><span class="comment">//    def sum(args: Int*) : Int = &#123; &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//支持1到多个参数</span></span><br><span class="line"><span class="comment">//    def sum(n1: Int, args:  Int*) : Int  = &#123; &#125;</span></span><br><span class="line"><span class="comment">// 说明:</span></span><br><span class="line"><span class="comment">//args 是集合, 通过 for循环 可以访问到各个值。</span></span><br><span class="line"><span class="comment">//可变参数需要写在形参列表的最后。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// --案例3：方法转为函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f1</span></span>(): <span class="type">Int</span> = &#123;<span class="number">100</span>&#125;  <span class="comment">// 定义方法</span></span><br><span class="line">println(f1) <span class="comment">//100</span></span><br><span class="line">println(f1()) <span class="comment">// 100</span></span><br><span class="line"><span class="keyword">var</span> f2 = f1</span><br><span class="line"><span class="keyword">var</span> f3 = f1 _   <span class="comment">// 方法转为函数</span></span><br><span class="line">println(f2) <span class="comment">//100</span></span><br><span class="line">println(f3) <span class="comment">// 打印的是100吗? &lt;function0&gt;</span></span><br><span class="line"><span class="comment">// 如果要打印f3函数的返回值</span></span><br><span class="line">println(f3()) <span class="comment">// 100</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// --案例4：匿名函数</span></span><br><span class="line"><span class="keyword">val</span> f1 = () =&gt; <span class="string">"abc"</span></span><br><span class="line">println(f1()) <span class="comment">// abc</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 完整的写法:</span></span><br><span class="line"><span class="keyword">val</span> f2: (<span class="type">String</span>, <span class="type">Double</span>) =&gt; <span class="type">Int</span> = (a: <span class="type">String</span>, b : <span class="type">Double</span>) =&gt; a.toInt + b.toInt</span><br><span class="line">println(f2(<span class="string">"2"</span>,<span class="number">1.5</span>)) <span class="comment">// 3</span></span><br><span class="line"><span class="comment">// 简化版1,  后面的函数写法省略全部类型</span></span><br><span class="line"><span class="keyword">val</span> f3: (<span class="type">String</span>, <span class="type">Double</span>) =&gt; <span class="type">Int</span> = (a, b) =&gt; a.toInt + b.toInt</span><br><span class="line">println(f3(<span class="string">"2"</span>,<span class="number">1.5</span>)) <span class="comment">// 3</span></span><br><span class="line"><span class="comment">// (String, Double) =&gt; Int 是一个数据类型(函数签名)</span></span><br><span class="line"><span class="comment">// 简化版2 , 省略函数签名</span></span><br><span class="line"><span class="keyword">var</span> f4 = (a: <span class="type">String</span>, b:<span class="type">Double</span>) =&gt; a.toInt + b.toInt</span><br><span class="line">println(f4(<span class="string">"2"</span>,<span class="number">1.5</span>)) <span class="comment">//3</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 案例5：传值调用与传名调用</span></span><br><span class="line"><span class="keyword">var</span> money = <span class="number">100</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">buy</span></span>(): <span class="type">Int</span> = &#123;</span><br><span class="line">    money  -= <span class="number">10</span></span><br><span class="line">    money</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 传值：不会改变外部传参money值</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test1</span></span>(a: <span class="type">Int</span>) = &#123;</span><br><span class="line">    println(a)</span><br><span class="line">    println(a)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 传名：会改变外部传参money值</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test2</span></span>(a: =&gt; <span class="type">Int</span>) = &#123;</span><br><span class="line">    println(a)</span><br><span class="line">    println(a)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">test1(buy) <span class="comment">// 90 90</span></span><br><span class="line">test2(buy) <span class="comment">// 80 70</span></span><br></pre></td></tr></table></figure></div>



<h2 id="高阶函数"><a href="#高阶函数" class="headerlink" title="高阶函数"></a>高阶函数</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">scala</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 高阶函数：将其他函数作为参数或返回值为一个函数的函数函数(higher-order function)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数的第一个参数类型是另一个函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">apply</span></span>(f: <span class="type">Int</span> =&gt; <span class="type">String</span>, v: <span class="type">Int</span>) = f(v)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fmtInt</span></span>(n: <span class="type">Int</span>) : <span class="type">String</span> = <span class="string">"[整数值&#123;"</span> + n + <span class="string">"&#125;]"</span></span><br><span class="line">println(apply(fmtInt, <span class="number">1200</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数的返回值是一个函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">addBy</span></span>(n: <span class="type">Int</span>) = &#123;</span><br><span class="line">    (d : <span class="type">Double</span>) =&gt; n + d</span><br><span class="line">&#125;</span><br><span class="line">println(addBy(<span class="number">50</span>)(<span class="number">80.223</span>))</span><br></pre></td></tr></table></figure></div>



<h2 id="函数柯里化"><a href="#函数柯里化" class="headerlink" title="函数柯里化"></a>函数柯里化</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">scala</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 柯里化指的是将原来接受多个参数的函数变成新的接受一个参数的函数的过程</span></span><br><span class="line"><span class="comment">// 原始函数, 有3个参数的函数</span></span><br><span class="line"><span class="comment">// def addMulti(a: Int, b: Int, c: Int) = (a + b) * c</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数A的返回值是一个函数B, 函数B的返回值是函数C</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">addMulti</span></span>(a: <span class="type">Int</span>) = &#123;</span><br><span class="line">    (b: <span class="type">Int</span>) =&gt; (c: <span class="type">Int</span>) =&gt; (a + b) * c</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">println(addMulti(<span class="number">50</span>)(<span class="number">80</span>)(<span class="number">20</span>))</span><br></pre></td></tr></table></figure></div>



<h2 id="参数（类型）判断"><a href="#参数（类型）判断" class="headerlink" title="参数（类型）判断"></a>参数（类型）判断</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1、参数类型是可以推断时，可以省略参数类型</span><br><span class="line">2、当传入的函数，只有单个参数时，可以省去括号</span><br><span class="line">3、如果变量只在&#x3D;&gt;右边只出现一次，可以用_来代替</span><br></pre></td></tr></table></figure></div>

<p>demo</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">scala</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> list = <span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line">println(list.map((x:<span class="type">Int</span>)=&gt;x + <span class="number">1</span>))</span><br><span class="line">println(list.map((x)=&gt;x + <span class="number">1</span>))</span><br><span class="line">println(list.map(x=&gt;x + <span class="number">1</span>))</span><br><span class="line">println(list.map(_ + <span class="number">1</span>))</span><br></pre></td></tr></table></figure></div>



<h2 id="惰性函数"><a href="#惰性函数" class="headerlink" title="惰性函数"></a>惰性函数</h2><p>类似懒加载，将耗时的计算推迟到绝对需要的时候。</p>
<p>比如java使用<strong>单例模式懒汉式</strong>实现该思路</p>
<p>定义：当<strong>函数返回值</strong>被声明为<strong>lazy</strong>时，函数的执行将被推迟，直到我们首次对此取值，该函数才会执行。这种函数我们称之为<strong>惰性函数</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">scala</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum</span></span>(n1 : <span class="type">Int</span>, n2 : <span class="type">Int</span>): <span class="type">Int</span> = &#123;</span><br><span class="line">    println(<span class="string">"sum() 执行了.."</span>)</span><br><span class="line">    <span class="keyword">return</span>  n1 + n2</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">lazy</span> <span class="keyword">val</span> res = sum(<span class="number">10</span>, <span class="number">20</span>)  <span class="comment">// 不会执行</span></span><br><span class="line">println(<span class="string">"-----------------"</span>)</span><br><span class="line">println(<span class="string">"res="</span> + res)   <span class="comment">// 在真正使用时才执行</span></span><br></pre></td></tr></table></figure></div>



<h2 id="异常"><a href="#异常" class="headerlink" title="异常"></a>异常</h2><p>类似java</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">scala</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// demo1: 异常</span></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">val</span> r = <span class="number">10</span> / <span class="number">0</span></span><br><span class="line">&#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">    <span class="comment">// catch子句是按次序捕捉的</span></span><br><span class="line">    <span class="keyword">case</span> ex: <span class="type">ArithmeticException</span>=&gt; println(<span class="string">"捕获了除数为零的算术异常"</span>)</span><br><span class="line">    <span class="keyword">case</span> ex: <span class="type">Exception</span> =&gt; println(<span class="string">"捕获了异常"</span>)  <span class="comment">// 不会打印</span></span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">    <span class="comment">// 最终要执行的代码</span></span><br><span class="line">    println(<span class="string">"scala finally..."</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// demo2: throw关键字</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test</span></span>(): <span class="type">Nothing</span> = &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="type">Exception</span>(<span class="string">"不对"</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">val</span> res = test()</span><br><span class="line"><span class="comment">// throw表达式是有类型的，就是Nothing，因为Nothing是所有类型的子类型，所以throw表达式可以用在需要类型的地方</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// demo3: 可以使用throws注释来声明异常</span></span><br><span class="line"><span class="meta">@throws</span>(classOf[<span class="type">NumberFormatException</span>])</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f11</span></span>()  = &#123;</span><br><span class="line">    <span class="string">"abc"</span>.toInt</span><br><span class="line">&#125;</span><br><span class="line">f11()</span><br><span class="line">println(<span class="string">"---"</span>)</span><br></pre></td></tr></table></figure></div>





<h1 id="面向对象编程"><a href="#面向对象编程" class="headerlink" title="面向对象编程"></a>面向对象编程</h1><h2 id="类与对象"><a href="#类与对象" class="headerlink" title="类与对象"></a>类与对象</h2><p>与java对比</p>
<ol>
<li>scala语法中，类并不声明为public，所有这些类都具有公有可见性(即默认就是public)</li>
<li>一个Scala源文件可以包含多个类. </li>
</ol>
<p>定义类</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">scala</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="comment">// Scala中声明一个属性,必须显示的初始化，然后根据初始化数据的类型自动推断，属性类型可以省略</span></span><br><span class="line">    <span class="keyword">var</span> age : <span class="type">Int</span> = <span class="number">10</span></span><br><span class="line">    <span class="keyword">var</span> sal = <span class="number">8090.9</span></span><br><span class="line">    <span class="keyword">var</span> name  = <span class="literal">null</span></span><br><span class="line">    <span class="keyword">var</span> address : <span class="type">String</span> = <span class="literal">null</span>   <span class="comment">// 如果赋值为null,则一定要加类型，因为不加类型, 那么该属性的类型就是Null类型</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 如果在定义属性时，暂时不赋值，也可以使用符号_(下划线)，让系统分配默认值.</span></span><br><span class="line">    <span class="keyword">var</span> a : <span class="type">Double</span> = _</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>创建对象</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">scala</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> | <span class="keyword">var</span> 对象名 [：类型]  = <span class="keyword">new</span> 类型()</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>、如果我们不希望改变对象的引用(即：内存地址), 应该声明为<span class="keyword">val</span> 性质的，否则声明为<span class="keyword">var</span>, scala设计者推荐使用<span class="keyword">val</span> ,因为一般来说，在程序中，我们只是改变对象属性的值，而不是改变对象的引用。</span><br><span class="line"><span class="number">2</span>、类型声明可以省略，但当类型和后面<span class="keyword">new</span> 对象类型有继承关系即多态时，就必须写了</span><br></pre></td></tr></table></figure></div>

<p>访问属性</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">对象名.属性名</span><br></pre></td></tr></table></figure></div>

<p>类和对象的内存分配机制</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">scala</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> p1 = <span class="keyword">new</span> <span class="type">Person</span></span><br><span class="line">p1.name = <span class="string">"jack"</span></span><br><span class="line">p1.age = <span class="number">30</span></span><br><span class="line"><span class="keyword">val</span> p2 = p1   <span class="comment">//内存布局?</span></span><br><span class="line">p2.age = <span class="number">18</span></span><br><span class="line">println(<span class="string">"p2.age="</span> + p2.age) <span class="comment">//18</span></span><br><span class="line">println(<span class="string">"p1.age="</span>+ p1.age) <span class="comment">//18</span></span><br></pre></td></tr></table></figure></div>

<p>构造器</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">scala</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 构造器</span></span><br><span class="line"><span class="comment">// Scala类的构造器包括： 主构造器（一个） 和 辅助构造器(多个)</span></span><br><span class="line"><span class="comment">// 可以体会到Scala的函数式编程和面向对象编程融合在一起，即：构造器也是方法（函数）</span></span><br><span class="line"><span class="comment">// 如果主构造器无参数，小括号可省略，构建对象时调用的构造方法的小括号也可以省略</span></span><br><span class="line"><span class="comment">// 如果想让主构造器变成私有的，可以在()之前加上private，这样用户不能直接通过主构造器来构造对象了 class Person private()</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  class 类名(形参列表) &#123;  // 主构造器</span></span><br><span class="line"><span class="comment">    // 类体</span></span><br><span class="line"><span class="comment">    def  this(形参列表) &#123;  // 辅助构造器</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    def  this(形参列表) &#123;  //辅助构造器可以有多个...</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">  &#125;</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name: <span class="type">String</span> = _</span><br><span class="line">    <span class="keyword">var</span> age: <span class="type">Int</span> = _</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">this</span></span>(name : <span class="type">String</span>) &#123;</span><br><span class="line">        <span class="comment">//辅助构造器无论是直接或间接，最终都一定要调用主构造器，执行主构造器的逻辑</span></span><br><span class="line">        <span class="comment">//而且需要放在辅助构造器的第一行[这点和java一样，java中一个构造器要调用同类的其它构造器，也需要放在第一行]</span></span><br><span class="line">        <span class="keyword">this</span>()  <span class="comment">//直接调用主构造器</span></span><br><span class="line">        <span class="keyword">this</span>.name = name</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">this</span></span>(name : <span class="type">String</span>, age : <span class="type">Int</span>) &#123;</span><br><span class="line">        <span class="keyword">this</span>() <span class="comment">//直接调用主构造器</span></span><br><span class="line">        <span class="keyword">this</span>.name = name</span><br><span class="line">        <span class="keyword">this</span>.age = age</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">this</span></span>(age : <span class="type">Int</span>) &#123;</span><br><span class="line">        <span class="keyword">this</span>(<span class="string">"匿名"</span>) <span class="comment">//简介调用主构造器,因为 def this(name : String) 中调用了主构造器!</span></span><br><span class="line">        <span class="keyword">this</span>.age = age</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">showInfo</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">        println(<span class="string">"person信息如下:"</span>)</span><br><span class="line">        println(<span class="string">"name="</span> + <span class="keyword">this</span>.name)</span><br><span class="line">        println(<span class="string">"age="</span> + <span class="keyword">this</span>.age)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>构造器参数</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1、Scala类的主构造器的形参未用任何修饰符修饰，那么这个参数是局部变量。</span><br><span class="line">2、如果参数使用val关键字声明，那么Scala会将参数作为类的私有的只读属性使用 </span><br><span class="line">3、如果参数使用var关键字声明，那么Scala会将参数作为类的成员属性使用,并会提供属性对应的xxx()[类似getter]&#x2F;xxx_$eq()[类似setter]方法，即这时的成员属性是私有的，但是可读写。</span><br></pre></td></tr></table></figure></div>

<p>Bean属性</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">scala</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 给某个属性加入@BeanPropetry注解后，会生成getXXX和setXXX的方法</span></span><br><span class="line"><span class="comment">// 并且对原来底层自动生成类似xxx(),xxx_$eq()方法，没有冲突，二者可以共存。</span></span><br><span class="line"><span class="keyword">import</span> scala.beans.<span class="type">BeanProperty</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Car</span> </span>&#123;</span><br><span class="line">    <span class="meta">@BeanProperty</span> <span class="keyword">var</span> name: <span class="type">String</span> = <span class="literal">null</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>Scala对象创建对象流程分析</p>
<ol>
<li>加载类的信息(属性信息和方法信息), 如果父类也没有加载, 则由父到子加载父类</li>
<li>在内存中(堆)给对象开辟空间</li>
<li>使用父类的构造器(主构造器/辅助构造器)完成父类的初始化 (多个父类)</li>
<li>使用本类的主构造器完成初始化</li>
<li>使用本类的辅助构造器继续初始化</li>
<li>将对象在内存中的地址赋给 p 这个引用</li>
</ol>
<h2 id="包"><a href="#包" class="headerlink" title="包"></a>包</h2><p><strong>基本</strong></p>
<p>1、Scala中包名和源码所在的系统文件目录结构要可以不一致，但是编译后的字节码文件路径和包名会保持一致(这个工作由编译器完成)。<br>2、Scala会自动引入的常用包</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">java.lang.*</span><br><span class="line">scala包</span><br><span class="line">Predef包</span><br></pre></td></tr></table></figure></div>

<p>3、使用嵌套形式打包：好处是：程序员可以在同一个文件中，将类(class / object)、trait 创建在不同的包中<br>4、作用域原则：可以直接向上访问。即: Scala中子包中直接访问父包中的内容, 大括号体现作用域。<br>5、父包要访问子包的内容时，需要import对应的类等<br>6、可以在同一个.scala文件中，声明多个并列的package(建议嵌套的pakage不要超过3层)<br>7、包名可以相对路径也可以绝对路径，比如，访问BeanProperty的绝对路径是：<em>root</em>. scala.beans.BeanProperty ，在一般情况下：我们使用相对路径来引入包，只有当包名冲突时，使用绝对路径来处理。</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">scala</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//第一种形式</span></span><br><span class="line"><span class="comment">//@BeanProperty var age: Int = _</span></span><br><span class="line"><span class="comment">//第二种形式, 和第一种一样，都是相对路径引入</span></span><br><span class="line"><span class="comment">//@scala.beans.BeanProperty var age: Int = _scala</span></span><br><span class="line"><span class="comment">//第三种形式, 是绝对路径引入，可以解决包名冲突</span></span><br><span class="line">@_root_. scala.beans.<span class="type">BeanProperty</span> <span class="keyword">var</span> age: <span class="type">Int</span> = _</span><br></pre></td></tr></table></figure></div>

<p>demo</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">scala</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.mxx&#123;</span><br><span class="line">    <span class="comment">//这个类就是在com.mxx包下</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">User</span></span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//这个类对象就是在Monster$ , 也在com.mxx包下</span></span><br><span class="line">    <span class="class"><span class="keyword">object</span> <span class="title">Monster</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Dog</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">package</span> scala &#123;</span><br><span class="line">        <span class="comment">//这个类就是在com.mxx.scala包下</span></span><br><span class="line">        <span class="class"><span class="keyword">class</span> <span class="title">User</span></span>&#123;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//这个Test 类对象</span></span><br><span class="line">        <span class="class"><span class="keyword">object</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">            <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">                <span class="comment">//子包可以直接访问父包的内容</span></span><br><span class="line">                <span class="keyword">var</span> dog = <span class="keyword">new</span> <span class="type">Dog</span>()</span><br><span class="line">                println(<span class="string">"dog="</span> + dog)</span><br><span class="line">                <span class="comment">//在子包和父包 类重名时，默认采用就近原则.</span></span><br><span class="line">                <span class="keyword">var</span> u = <span class="keyword">new</span> <span class="type">User</span>()</span><br><span class="line">                println(<span class="string">"u="</span> + u)</span><br><span class="line">                <span class="comment">//在子包和父包 类重名时，如果希望指定使用某个类，则带上包路径</span></span><br><span class="line">                <span class="keyword">var</span> u2 = <span class="keyword">new</span> com.mxx.<span class="type">User</span>()</span><br><span class="line">                println(<span class="string">"u2="</span> + u2)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>



<hr>
<p><strong>包对象</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">scala</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">包对象：包可以包含类、对象和特质trait，但不能包含函数/方法或变量的定义。</span></span><br><span class="line"><span class="comment">  这是Java虚拟机的局限。为了弥补这一点不足，scala提供了包对象的概念来解决这个问题。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">package</span> com.mxx &#123;</span><br><span class="line">    <span class="comment">//每个包都可以有一个包对象。你需要在父包(com.mxx)中定义它,且名称与子包一样。</span></span><br><span class="line">    <span class="keyword">package</span> <span class="class"><span class="keyword">object</span> <span class="title">scala</span> </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> name = <span class="string">"jack"</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">sayOk</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">            println(<span class="string">"package object sayOk!"</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">package</span> scala &#123;</span><br><span class="line">        <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">            <span class="function"><span class="keyword">def</span> <span class="title">test</span></span>() : <span class="type">Unit</span> =&#123;</span><br><span class="line">                <span class="comment">//这里的name就是包对象scala中声明的name</span></span><br><span class="line">                println(name)</span><br><span class="line">                sayOk()<span class="comment">//这个sayOk 就是包对象scala中声明的sayOk</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="class"><span class="keyword">object</span> <span class="title">TestObj</span> </span>&#123;</span><br><span class="line">            <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">                <span class="keyword">val</span> t  = <span class="keyword">new</span> <span class="type">Test</span>()</span><br><span class="line">                t.test()</span><br><span class="line">                <span class="comment">//因为TestObje和scala这个包对象在同一包，因此也可以使用</span></span><br><span class="line">                println(<span class="string">"name="</span> + name)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">包对象的底层实现机制分析</span></span><br><span class="line"><span class="comment">包的可见性</span></span><br><span class="line"><span class="comment">  默认为public访问权限</span></span><br><span class="line"><span class="comment">  在scala中没有public关键字,即不能用public显式的修饰属性和方法。</span></span><br><span class="line"><span class="comment">  scala设计者将访问的方式分成三大类(1) 处处可以访问public (2) 子类和伴生对象能访问protected (3) 本类和伴生对象访问 private</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure></div>



<hr>
<p><strong>包的引入</strong></p>
<p>1、在Scala中，import语句可以出现在任何地方，并不仅限于文件顶部，import语句的作用一直延伸到包含该语句的块末尾。这种语法的好处是：在需要时在引入包，缩小import 包的作用范围，提高效率。<br>2、Java中如果想要导入包中所有的类，可以通过通配符*，Scala中采用下划线_<br>3、如果不想要某个包中全部的类，而是其中的几个类，可以采用选取器(大括号)</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">scala</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scala.collection.mutable.&#123;<span class="type">HashMap</span>, <span class="type">HashSet</span>&#125;</span><br></pre></td></tr></table></figure></div>

<p>4、如果引入的多个包中含有相同的类，那么可以将类进行重命名进行区分，这个就是重命名。</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">scala</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.&#123; <span class="type">HashMap</span>=&gt;<span class="type">JavaHashMap</span>, <span class="type">List</span>&#125;</span><br><span class="line"><span class="keyword">import</span> scala.collection.mutable._</span><br><span class="line"><span class="keyword">var</span> map = <span class="keyword">new</span> <span class="type">HashMap</span>()</span><br><span class="line"><span class="keyword">var</span> map1 = <span class="keyword">new</span> <span class="type">JavaHashMap</span>();</span><br></pre></td></tr></table></figure></div>

<p>5、如果某个冲突的类根本就不会用到，那么这个类可以直接隐藏掉。</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">scala</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.&#123; <span class="type">HashMap</span>=&gt;_, _&#125;</span><br><span class="line"><span class="keyword">var</span> map = <span class="keyword">new</span> <span class="type">HashMap</span>()</span><br></pre></td></tr></table></figure></div>

<h2 id="封装"><a href="#封装" class="headerlink" title="封装"></a>封装</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">scala</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> 1、Scala中为了简化代码的开发，当声明属性时，本身就自动提供了对应setter/getter方法，如果属性声明为private的，那么自动生成的setter/getter方法也是private的，如果属性省略访问权限修饰符，那么自动生成的setter/getter方法是public的</span></span><br><span class="line"><span class="comment"> 2、因此我们如果只是对一个属性进行简单的set和get ，只要声明一下该属性(属性使用默认访问修饰符) 不用写专门的getset，默认会创建，访问时，直接对象.变量。这样也是为了保持访问一致性</span></span><br><span class="line"><span class="comment"> 3、从形式上看 dog.food 直接访问属性，其实底层仍然是访问的方法,  看一下反编译的代码就明白</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span>(<span class="params">inAge:<span class="type">Int</span></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> age: <span class="type">Int</span> = <span class="number">0</span></span><br><span class="line">    <span class="keyword">var</span> name: <span class="type">String</span> = <span class="string">""</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">val</span> age2: <span class="type">Int</span> = <span class="number">0</span></span><br><span class="line">    <span class="keyword">val</span> name2: <span class="type">String</span> = <span class="string">""</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">C08</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">val</span> cat = <span class="keyword">new</span> <span class="type">Cat</span>(<span class="number">10</span>)</span><br><span class="line">        cat.name = <span class="string">"喵"</span></span><br><span class="line">        println(cat.name)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h2 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h2><p>1、基本语法</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">scala</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">extends</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">studying</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">        println(<span class="keyword">this</span>.name + <span class="string">"学习 scala中...."</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>2、子类继承了所有的属性，只是私有的属性不能直接访问，需要通过从父类继承的公共的方法去访问</p>
<p>3、scala明确规定，重写一个非抽象方法需要用override关键字修饰，调用超类的方法使用super关键字</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">scala</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Emp</span> <span class="keyword">extends</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">printName</span></span>() &#123;</span><br><span class="line">        println(<span class="string">"Emp printName() "</span> + name)</span><br><span class="line">        <span class="keyword">super</span>.printName()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>4、类型检查和转换</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">scala</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 要测试某个对象是否属于某个给定的类，可以用isInstanceOf方法。用asInstanceOf方法将引用转换为子类的引用。classOf获取对象的类名。</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">C10</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    println(classOf[<span class="type">String</span>])</span><br><span class="line">    <span class="keyword">val</span> s = <span class="string">"zhangsan"</span></span><br><span class="line">    println(s.getClass.getName) <span class="comment">//这种是Java中反射方式得到类型</span></span><br><span class="line">    println(s.isInstanceOf[<span class="type">String</span>])</span><br><span class="line">    println(s.asInstanceOf[<span class="type">String</span>]) <span class="comment">//将s 显示转换成String</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>5、超类的构造</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">scala</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1）类有一个主构器和任意数量的辅助构造器，而每个辅助构造器都必须先调用主构造器(也可以是间接调用)</span></span><br><span class="line"><span class="comment">// 2）只有主构造器可以调用父类的构造器。辅助构造器不能直接调用父类的构造器。在Scala的构造器中，你不能调用super(params)</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>(<span class="params">name: <span class="type">String</span></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Emp</span> (<span class="params">name: <span class="type">String</span></span>) <span class="keyword">extends</span> <span class="title">Person</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// super(name)</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span>  <span class="title">this</span></span>() &#123;</span><br><span class="line">    <span class="comment">//super("abc")</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>6、覆写字段</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">scala</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">- 在Scala中，子类改写父类的字段，我们称为覆写/重写字段。覆写字段需使用 override修饰。</span></span><br><span class="line"><span class="comment">- 抽象属性：声明未初始化的变量就是抽象的属性,抽象属性在抽象类</span></span><br><span class="line"><span class="comment">- 如果是覆写一个父类的抽象属性，那么override 关键字可省略(本质上是实现)</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">  <span class="keyword">val</span> age : <span class="type">Int</span> = <span class="number">10</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">  <span class="keyword">override</span> <span class="keyword">val</span> age : <span class="type">Int</span> = <span class="number">20</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">C10</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> obj1 : <span class="type">A</span> = <span class="keyword">new</span> <span class="type">B</span>()</span><br><span class="line">    <span class="keyword">val</span> obj2 : <span class="type">B</span> = <span class="keyword">new</span> <span class="type">B</span>()</span><br><span class="line"></span><br><span class="line">    println(obj1.age) <span class="comment">//20</span></span><br><span class="line">    println(obj2.age) <span class="comment">// 20</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>7、抽象类</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">scala</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> - 方法不用标记abstract，只要省掉方法体即可。</span></span><br><span class="line"><span class="comment"> - 抽象字段/属性就是没有初始值的字段</span></span><br><span class="line"><span class="comment"> - 抽象类的价值更多是在于设计，是设计者设计好后，让子类继抽象类。抽象类本质上就是一个模板设计</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> name : <span class="type">String</span> <span class="comment">//抽象的属性</span></span><br><span class="line">  <span class="keyword">var</span> age : <span class="type">Int</span> <span class="comment">// 抽象的属性</span></span><br><span class="line">  <span class="keyword">var</span> color : <span class="type">String</span> = <span class="string">"black"</span>  <span class="comment">// 普通属性</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">cry</span></span>() <span class="comment">// 抽象方法</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>8、匿名子类</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">scala</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Monster</span></span>&#123;</span><br><span class="line">  <span class="keyword">var</span> name : <span class="type">String</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">cry</span></span>()</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">C10</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">var</span> monster = <span class="keyword">new</span> <span class="type">Monster</span> &#123;</span><br><span class="line">      <span class="keyword">override</span> <span class="keyword">var</span> name: <span class="type">String</span> = <span class="string">"牛魔王"</span></span><br><span class="line">      <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">cry</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">        println(<span class="string">"牛魔王哼哼叫唤.."</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>9、继承层级</p>
<a href="/2020/01/18/20200118180040984/image-20200205171238470.png" data-fancybox="group" data-caption="image-20200205171238470" class="fancybox"><img alt="image-20200205171238470" style="zoom:80%;" title="image-20200205171238470" data-src="/2020/01/18/20200118180040984/image-20200205171238470.png" class="lazyload"></a>

<p>1、在scala中，所有其他类都是AnyRef的子类，类似Java的Object。<br>2、AnyVal和AnyRef都扩展自Any类。Any类是根节点/根类型<br>3、Any中定义了isInstanceOf、asInstanceOf方法，以及哈希方法等。<br>4、Null类型的唯一实例就是null对象。可以将null赋值给任何引用，但不能赋值给值类型的变量[案例演示]。<br>5、Nothing类型没有实例。它对于泛型结构是有用处的，举例：空列表Nil的类型是List[Nothing]，它是List[T]的子类型，T可以是任何类。</p>
<h2 id="静态属性和静态方法"><a href="#静态属性和静态方法" class="headerlink" title="静态属性和静态方法"></a>静态属性和静态方法</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">scala</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Scala中静态的概念-伴生对象</span></span><br><span class="line"><span class="comment">  - Scala语言是完全面向对象，没有静态的概念，就产生了一种特殊的对象来模拟类对象，我们称之为类的伴生对象。这个类的所有静态内容都可以放置在它的伴生对象中声明和调用。</span></span><br><span class="line"><span class="comment">  - Scala中伴生对象采用object关键字声明，伴生对象中声明的全是 "静态"内容，可以通过伴生对象名称直接调用。</span></span><br><span class="line"><span class="comment">  - 伴生对象对应的类称之为伴生类，伴生对象的名称应该和伴生类名一致。</span></span><br><span class="line"><span class="comment">  - 伴生对象中的属性和方法都可以通过伴生对象名直接调用访问</span></span><br><span class="line"><span class="comment">  - 从语法角度来讲，所谓的伴生对象其实就是类的静态方法和静态变量的集合</span></span><br><span class="line"><span class="comment">  - 从技术角度来讲，scala还是没有生成静态的内容，只不过是将伴生对象生成了一个新的类，实现属性和方法的调用。</span></span><br><span class="line"><span class="comment">  - 如果 class A 独立存在，那么A就是一个类， 如果 object A 独立存在，那么A就是一个"静态"性质的对象[即类对象]</span></span><br><span class="line"><span class="comment">  - 伴生对象-apply方法</span></span><br><span class="line"><span class="comment">    在伴生对象中定义apply方法，可以实现： 类名(参数) 方式来创建对象实例.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">// class ScalaPerson 是伴生类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ScalaPerson</span> </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> name : <span class="type">String</span> = _</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// object ScalaPerson 是伴生对象</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaPerson</span> </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> sex : <span class="type">Boolean</span> = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    println(<span class="type">ScalaPerson</span>.sex)</span><br><span class="line">    <span class="comment">// println(ScalaPerson.name) 不行</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>



<h2 id="单例模式"><a href="#单例模式" class="headerlink" title="单例模式"></a>单例模式</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">采用类对象(即伴生对象)方式构建单例对象</span><br><span class="line">  - 懒汉式</span><br><span class="line">  - 饿汉式</span><br></pre></td></tr></table></figure></div>

<p>TODO</p>
<h2 id="接口-amp-特质-trait"><a href="#接口-amp-特质-trait" class="headerlink" title="接口 &amp; 特质(trait)"></a>接口 &amp; 特质(trait)</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">scala</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">- 接口并不属于面向对象的范畴，Scala是纯面向对象的语言，在Scala中，没有接口, 也没有implements关键字</span></span><br><span class="line"><span class="comment">- Scala语言中，采用trait（特质，特征）来代替接口的概念</span></span><br><span class="line"><span class="comment">- 在scala中，java中的接口可以当做特质使用</span></span><br><span class="line"><span class="comment">- 使用</span></span><br><span class="line"><span class="comment">没有父类</span></span><br><span class="line"><span class="comment">class  类名   extends   特质1   with    特质2   with   特质3 ..</span></span><br><span class="line"><span class="comment">有父类</span></span><br><span class="line"><span class="comment">class  类名   extends   父类   with  特质1   with   特质2   with 特质3</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">- 特质可以同时拥有抽象方法和具体方法</span></span><br><span class="line"><span class="comment">- 和Java中的接口不太一样的是特质中的方法并不一定是抽象的，也可以有非抽象方法(即：实现了的方法)。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">Trait1</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">getConnect</span></span>(user: <span class="type">String</span>, pwd: <span class="type">String</span>): <span class="type">Unit</span> <span class="comment">//声明方法，抽象的.</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">test</span></span>(n1:<span class="type">Int</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span> </span>&#123;&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span> <span class="keyword">extends</span> <span class="title">A</span> <span class="keyword">with</span> <span class="title">Trait1</span> </span>&#123;</span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">getConnect</span></span>(user: <span class="type">String</span>, pwd: <span class="type">String</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">    println(<span class="string">"c连接mysql"</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">D</span> </span>&#123;&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">E</span> <span class="keyword">extends</span> <span class="title">D</span> <span class="keyword">with</span> <span class="title">Trait1</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">getConnect</span></span>(user: <span class="type">String</span>, pwd: <span class="type">String</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">    println(<span class="string">"e连接oracle"</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>TODO</p>
<h2 id="type关键字"><a href="#type关键字" class="headerlink" title="type关键字"></a>type关键字</h2><p>使用type关键字可以定义新的数据类型名称。本质上就是类型的一个别名</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">scala</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">type</span> <span class="title">S</span> </span>= <span class="type">String</span></span><br><span class="line"><span class="keyword">var</span> v : <span class="type">S</span> = <span class="string">"abc"</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test</span></span>() : <span class="type">S</span> = <span class="string">"xyz"</span></span><br></pre></td></tr></table></figure></div>



<h2 id="嵌套类"><a href="#嵌套类" class="headerlink" title="嵌套类"></a>嵌套类</h2><p>在Scala中，你几乎可以在任何语法结构中内嵌任何语法结构。如在类中可以再定义一个类，这样的类是嵌套类，其他语法结构也是一样。</p>
<p>嵌套类类似于Java中的内部类。</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">scala</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ScalaOuterClass</span> </span>&#123;</span><br><span class="line">  <span class="class"><span class="keyword">class</span> <span class="title">ScalaInnerClass</span> </span>&#123; <span class="comment">//成员内部类</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaOuterClass</span> </span>&#123;  <span class="comment">//伴生对象</span></span><br><span class="line">  <span class="class"><span class="keyword">class</span> <span class="title">ScalaStaticInnerClass</span> </span>&#123; <span class="comment">//静态内部类</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> outer1 : <span class="type">ScalaOuterClass</span> = <span class="keyword">new</span> <span class="type">ScalaOuterClass</span>();</span><br><span class="line"><span class="keyword">val</span> outer2 : <span class="type">ScalaOuterClass</span> = <span class="keyword">new</span> <span class="type">ScalaOuterClass</span>();</span><br><span class="line"><span class="comment">// Scala创建内部类的方式和Java不一样，将new关键字放置在前，使用  对象.内部类  的方式创建</span></span><br><span class="line"><span class="keyword">val</span> inner1 = <span class="keyword">new</span> outer1.<span class="type">ScalaInnerClass</span>()</span><br><span class="line"><span class="keyword">val</span> inner2 = <span class="keyword">new</span> outer2.<span class="type">ScalaInnerClass</span>()</span><br><span class="line"><span class="comment">//创建静态内部类对象</span></span><br><span class="line"><span class="keyword">val</span> staticInner = <span class="keyword">new</span> <span class="type">ScalaOuterClass</span>.<span class="type">ScalaStaticInnerClass</span>()</span><br><span class="line">println(staticInner)</span><br></pre></td></tr></table></figure></div>

<p>TODO</p>
<h1 id="隐式转换和隐式参数"><a href="#隐式转换和隐式参数" class="headerlink" title="隐式转换和隐式参数"></a>隐式转换和隐式参数</h1><p>todo</p>
<h1 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h1><h2 id="可变与不可变"><a href="#可变与不可变" class="headerlink" title="可变与不可变"></a>可变与不可变</h2><p>可变集合</p>
<p><a href="/2020/01/18/20200118180040984/collections-1581420684666.png" data-fancybox="group" data-caption="collections" class="fancybox"><img alt="collections" title="collections" data-src="/2020/01/18/20200118180040984/collections-1581420684666.png" class="lazyload"></a></p>
<p>不可变集合</p>
<p><a href="/2020/01/18/20200118180040984/collections.immutable.png" data-fancybox="group" data-caption="collections.immutable" class="fancybox"><img alt="collections.immutable" title="collections.immutable" data-src="/2020/01/18/20200118180040984/collections.immutable.png" class="lazyload"></a></p>
<p>String是一种集合类型</p>
<h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><p>…</p>
<h2 id="元组-Tuple"><a href="#元组-Tuple" class="headerlink" title="元组 Tuple"></a>元组 Tuple</h2><p>可以存放各种相同或不同类型的数据 。</p>
<p>注意：元组中最大只能有 22 个元素  </p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">scala</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建元组</span></span><br><span class="line"><span class="keyword">val</span> tuple = (<span class="number">1</span>, <span class="number">2</span>, <span class="string">"hello"</span>)</span><br><span class="line"><span class="comment">//访问元组</span></span><br><span class="line"><span class="comment">//1. 使用 _顺序号</span></span><br><span class="line">println(tuple._3) <span class="comment">// "hello"</span></span><br><span class="line"><span class="comment">//2. 使用</span></span><br><span class="line">println(tuple.productElement(<span class="number">2</span>)) <span class="comment">//下标是从 0 开始计算</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//遍历元组[通过迭代器来遍历]</span></span><br><span class="line"><span class="keyword">for</span> (i &lt;- tuple.productIterator) &#123;</span><br><span class="line">	println(<span class="string">"i="</span> + i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h2 id="列表-List"><a href="#列表-List" class="headerlink" title="列表 List"></a>列表 List</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">scala</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建</span></span><br><span class="line"><span class="comment">// 默认的scala.collection.immutable.List</span></span><br><span class="line"><span class="keyword">val</span> list01 = <span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>) <span class="comment">//创建时，直接分配元素 apply</span></span><br><span class="line">println(list01)</span><br><span class="line"><span class="keyword">val</span> list02 = <span class="type">Nil</span> <span class="comment">//空集合</span></span><br><span class="line">println(list02)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 访问</span></span><br><span class="line"><span class="keyword">val</span> value1 = list1(<span class="number">1</span>) <span class="comment">// 1 是索引，表示取出第 2 个元素.</span></span><br><span class="line">println(value1)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 追加</span></span><br><span class="line"><span class="keyword">var</span> list1 = <span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="string">"abc"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// :+运算符表示在列表的最后增加数据</span></span><br><span class="line"><span class="comment">// 说明 1. :+ 符号 : 前是集合 + 后是元素</span></span><br><span class="line"><span class="keyword">val</span> list2 = list1 :+ <span class="number">4</span></span><br><span class="line">println(list1) <span class="comment">//list1 没有变化</span></span><br><span class="line">println(list2) <span class="comment">//新的列表结果是 [1, 2, 3, "abc", 4]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//给 list 向前面追加</span></span><br><span class="line"><span class="comment">//说明 1. +: 符号 : 后是集合 + 前是元素</span></span><br><span class="line"><span class="keyword">val</span> list3 = <span class="number">100</span> +: list1</span><br><span class="line">println(<span class="string">"list3="</span> + list3)</span><br><span class="line"></span><br><span class="line"><span class="comment">// :: 使用</span></span><br><span class="line"><span class="comment">// 符号::表示向集合中 新建集合添加元素。</span></span><br><span class="line"><span class="comment">// 运算规则， 从右向左。</span></span><br><span class="line"><span class="keyword">val</span> list4 = <span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="string">"abc"</span>)</span><br><span class="line"><span class="comment">// 操作步骤</span></span><br><span class="line"><span class="comment">// 1. ()</span></span><br><span class="line"><span class="comment">// 2. (List(1, 2, 3, "abc"))</span></span><br><span class="line"><span class="comment">// 3. (6, List(1, 2, 3, "abc"))</span></span><br><span class="line"><span class="comment">// 4. (5, 6, List(1, 2, 3, "abc"))</span></span><br><span class="line"><span class="comment">// 5. (4, 5, 6, List(1, 2, 3, "abc"))</span></span><br><span class="line"><span class="keyword">val</span> list5 = <span class="number">4</span> :: <span class="number">5</span> :: <span class="number">6</span> :: list4 :: <span class="type">Nil</span></span><br><span class="line">println(<span class="string">"list5="</span> + list5)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ::: 的使用</span></span><br><span class="line"><span class="comment">// ::: 运算符是将集合中的每一个元素加入到空集合中去, ::: 左右两边需要时集合</span></span><br><span class="line"><span class="comment">//下面等价 4 :: 5 :: 6 :: list1</span></span><br><span class="line"><span class="keyword">var</span> list6 = <span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="string">"abc"</span>)</span><br><span class="line"><span class="comment">// 步骤</span></span><br><span class="line"><span class="comment">// 1. ()</span></span><br><span class="line"><span class="comment">// 2. (1, 2, 3, "abc")</span></span><br><span class="line"><span class="comment">// 3. (6, 1, 2, 3, "abc")</span></span><br><span class="line"><span class="comment">// 4. (5, 6, 1, 2, 3, "abc")</span></span><br><span class="line"><span class="comment">// 5. (4, 5, 6, 1, 2, 3, "abc")</span></span><br><span class="line"><span class="keyword">val</span> list7 = <span class="number">4</span> :: <span class="number">5</span> :: <span class="number">6</span> :: list6 ::: <span class="type">Nil</span></span><br><span class="line">println(<span class="string">"list7="</span> + list7)</span><br></pre></td></tr></table></figure></div>

<h2 id="列表-ListBuffer"><a href="#列表-ListBuffer" class="headerlink" title="列表 ListBuffer"></a>列表 ListBuffer</h2><h2 id="队列-Queue"><a href="#队列-Queue" class="headerlink" title="队列 Queue"></a>队列 Queue</h2><h2 id="映射-Map"><a href="#映射-Map" class="headerlink" title="映射 Map"></a>映射 Map</h2><p>Scala 中不可变的 Map 是有序的，可变的 Map 是无序的  </p>
<p>创建</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">scala</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 构造不可变映射</span></span><br><span class="line"><span class="keyword">val</span> map1 = <span class="type">Map</span>(<span class="string">"Alice"</span> -&gt; <span class="number">10</span>, <span class="string">"Bob"</span> -&gt; <span class="number">20</span>, <span class="string">"Kotlin"</span> -&gt; <span class="string">"北京"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 构造可变映射</span></span><br><span class="line"><span class="keyword">val</span> map2 = scala.collection.mutable.<span class="type">Map</span>(<span class="string">"Alice"</span> -&gt; <span class="number">10</span>, <span class="string">"Bob"</span> -&gt; <span class="number">20</span>, <span class="string">"Kotlin"</span> -&gt; <span class="number">30</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建空的映射</span></span><br><span class="line"><span class="keyword">val</span> map3 = <span class="keyword">new</span> scala.collection.mutable.<span class="type">HashMap</span>[<span class="type">String</span>, <span class="type">Int</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// 对偶元组</span></span><br><span class="line"><span class="comment">// 即创建包含键值对的二元组, 和第一种方式等价</span></span><br><span class="line"><span class="keyword">val</span> map4 = mutable.<span class="type">Map</span>( (<span class="string">"A"</span>, <span class="number">1</span>), (<span class="string">"B"</span>, <span class="number">2</span>), (<span class="string">"C"</span>, <span class="number">3</span>),(<span class="string">"D"</span>, <span class="number">30</span>) )</span><br></pre></td></tr></table></figure></div>

<p>取值</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">scala</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 使用 map(key)</span></span><br><span class="line"><span class="comment">// 如果 key 不存在，则抛出异常[java.util.NoSuchElementException]</span></span><br><span class="line"><span class="keyword">val</span> value1 = map2(<span class="string">"Alice"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. 使用 contains 方法检查是否存在 key,返回 Boolean</span></span><br><span class="line">map4.contains(<span class="string">"B"</span>)</span><br><span class="line"><span class="comment">// 使用 containts 先判断在取值，可以防止异常</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. 使用 map.get(key).get 取值</span></span><br><span class="line"><span class="keyword">var</span> map4 = mutable.<span class="type">Map</span>( (<span class="string">"A"</span>, <span class="number">1</span>), (<span class="string">"B"</span>, <span class="string">"北京"</span>), (<span class="string">"C"</span>, <span class="number">3</span>) )</span><br><span class="line">println(map4.get(<span class="string">"A"</span>)) <span class="comment">//Some</span></span><br><span class="line">println(map4.get(<span class="string">"A"</span>).get) <span class="comment">//得到 Some 再取出</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 4. 使用 map4.getOrElse()取值</span></span><br><span class="line"><span class="comment">// 如果 key 不存在，返回默认值。</span></span><br><span class="line"><span class="keyword">val</span> map4 = mutable.<span class="type">Map</span>( (<span class="string">"A"</span>, <span class="number">1</span>), (<span class="string">"B"</span>, <span class="string">"北京"</span>), (<span class="string">"C"</span>, <span class="number">3</span>) )</span><br><span class="line">println(map4.getOrElse(<span class="string">"A"</span>,<span class="string">"默认"</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">//如何选择取值方式建议</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">1. 如果我们确定 key 是存在的，应该使用 map("key") ,速度快.</span></span><br><span class="line"><span class="comment">2. 如果我们不确定 key 是否存在， 而且在不存在时，有业务逻辑处理就是用 map.contains() 配合 map("key")</span></span><br><span class="line"><span class="comment">3. 如果只是简单的希望返回一个值，就使用 getOrElse()</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></div>

<p>对 map 修改、添加和删除  </p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">scala</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 更新 map 的元素</span></span><br><span class="line"><span class="comment">// map 是可变的，才能修改</span></span><br><span class="line"><span class="comment">// 如果 key 存在：则修改对应的值,key 不存在,等价于添加一个 key-val</span></span><br><span class="line"><span class="keyword">val</span> map4 = mutable.<span class="type">Map</span>( (<span class="string">"A"</span>, <span class="number">1</span>), (<span class="string">"B"</span>, <span class="string">"北京"</span>), (<span class="string">"C"</span>, <span class="number">3</span>) )</span><br><span class="line">map4(<span class="string">"A"</span>) = <span class="number">20</span> <span class="comment">//修改和增加</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 添加 map 元素</span></span><br><span class="line">map+=(<span class="string">"A"</span>-&gt;<span class="number">1</span>,<span class="string">"B"</span>-&gt;<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 删除 map 元素</span></span><br><span class="line">map-=(<span class="string">"A"</span>,<span class="string">"B"</span>)</span><br><span class="line">map4.remove(key)</span><br></pre></td></tr></table></figure></div>

<p>对 map 遍历 </p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">scala</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> map1 = mutable.<span class="type">Map</span>( (<span class="string">"A"</span>, <span class="number">1</span>), (<span class="string">"B"</span>, <span class="string">"北京"</span>), (<span class="string">"C"</span>, <span class="number">3</span>) )</span><br><span class="line"><span class="keyword">for</span> ((k, v) &lt;- map1) println(k + <span class="string">" is mapped to "</span> + v)</span><br><span class="line"><span class="keyword">for</span> (v &lt;- map1.keys) println(v)</span><br><span class="line"><span class="keyword">for</span> (v &lt;- map1.values) println(v) </span><br><span class="line"><span class="keyword">for</span>(v &lt;- map1) println(v) <span class="comment">//v 是 Tuple2</span></span><br></pre></td></tr></table></figure></div>

<h2 id="集-Set"><a href="#集-Set" class="headerlink" title="集 Set"></a>集 Set</h2><p>…</p>
<h1 id="集合应用操作"><a href="#集合应用操作" class="headerlink" title="集合应用操作"></a>集合应用操作</h1><h2 id="map-映射操作"><a href="#map-映射操作" class="headerlink" title="map 映射操作"></a>map 映射操作</h2><p>集合(List,Array..) [数据] ==&gt; 过滤（函数） ==&gt; 操作(函数计算任务)[map] ==&gt; 得到新的集合  </p>
<p>案例：请将 List(3,5,7) 中的所有元素都 * 2 ，将其结果放到一个新的集合中返回  </p>
<p>在 Scala 中可以通过 map 映射操作来解决：将集合中的每一个元素通过指定功能（函数）映射（转换）成新的  </p>
<p>结果集合这里其实就是所谓的将函数作为参数传递给另外一个函数,这是函数式编程的特点  </p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">scala</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> list = <span class="type">List</span>(<span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">- 这个就是 map 映射函数，集合类型都有</span></span><br><span class="line"><span class="comment">- map 是一个高阶函数,接收的函数</span></span><br><span class="line"><span class="comment">- 这里我们传的是方法，但是会转成函数 val f2 = f1 _</span></span><br><span class="line"><span class="comment">- 通过 map 的操作，返回一个新的集合 list2</span></span><br><span class="line"><span class="comment">- 底层会遍历 list 的所有元素，并传递给 f1,将 f1 的结果封装成新的集合并返回</span></span><br><span class="line"><span class="comment">- list 没有变化</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">val</span> list2 = list.map(f1)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//方法</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f1</span></span>(n:<span class="type">Int</span>): <span class="type">Int</span> = &#123;</span><br><span class="line">    println(<span class="string">"hello..."</span>)</span><br><span class="line">	n * <span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 可以直接定义一个函数</span></span><br><span class="line"><span class="keyword">val</span> f3 = (n1: <span class="type">Int</span>,n2: <span class="type">Int</span>) =&gt; &#123;</span><br><span class="line">n1 + n2</span><br><span class="line">&#125;</span><br><span class="line">println(f3(<span class="number">1</span>,<span class="number">2</span>))</span><br></pre></td></tr></table></figure></div>

<h2 id="flatmap-映射"><a href="#flatmap-映射" class="headerlink" title="flatmap 映射"></a>flatmap 映射</h2><p>flatmap： flat 即压扁，压平，扁平化，效果就是将集合中的每个元素的子元素映射到某个函数并返回新的集合。  </p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">scala</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> names = <span class="type">List</span>(<span class="string">"Alice"</span>, <span class="string">"Bob"</span>, <span class="string">"Nick"</span>)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">upper</span></span>( s : <span class="type">String</span> ) : <span class="type">String</span> = &#123;</span><br><span class="line">s. toUpperCase</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 每个字符串也是 char 集合</span></span><br><span class="line">println(names.flatMap(upper)) <span class="comment">// List(A, L, I, C, E, B, O, B, N, I, C, K)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// (hello world, hello scala) -&gt; hello,world,hello,scala</span></span><br><span class="line"><span class="keyword">val</span> res1 = list.flatMap(_.split(<span class="string">" "</span>))</span><br></pre></td></tr></table></figure></div>

<h2 id="过滤-filter"><a href="#过滤-filter" class="headerlink" title="过滤-filter"></a>过滤-filter</h2><h1 id="模式匹配"><a href="#模式匹配" class="headerlink" title="模式匹配"></a>模式匹配</h1><h1 id="函数式编程-高阶"><a href="#函数式编程-高阶" class="headerlink" title="函数式编程-高阶"></a>函数式编程-高阶</h1><h1 id="泛型-上下界-视图界定-上下文界定-协变逆变不变"><a href="#泛型-上下界-视图界定-上下文界定-协变逆变不变" class="headerlink" title="泛型 上下界 视图界定 上下文界定 协变逆变不变"></a>泛型 上下界 视图界定 上下文界定 协变逆变不变</h1><h1 id="AKKA"><a href="#AKKA" class="headerlink" title="AKKA"></a>AKKA</h1><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">scala</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">C10</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">val</span> sub = <span class="keyword">new</span> <span class="type">Sub</span>()</span><br><span class="line">        sub.sayOk()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Base</span> </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> n1: <span class="type">Int</span> = <span class="number">1</span></span><br><span class="line">  <span class="keyword">protected</span> <span class="keyword">var</span> n2: <span class="type">Int</span> = <span class="number">2</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">var</span> n3: <span class="type">Int</span> = <span class="number">3</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">test100</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">    println(<span class="string">"base 100"</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">protected</span> <span class="function"><span class="keyword">def</span> <span class="title">test200</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">    println(<span class="string">"base 200"</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">private</span> <span class="function"><span class="keyword">def</span> <span class="title">test300</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">    println(<span class="string">"base 300"</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Sub</span> <span class="keyword">extends</span> <span class="title">Base</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">sayOk</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">this</span>.n1 = <span class="number">20</span></span><br><span class="line">    <span class="keyword">this</span>.n2 = <span class="number">40</span></span><br><span class="line">    <span class="comment">// this.n3 访问不到</span></span><br><span class="line">    println(<span class="string">"范围"</span> + <span class="keyword">this</span>.n1 + <span class="keyword">this</span>.n2)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Machine</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://machine4869.gitee.io/2020/01/18/20200118180040984/">https://machine4869.gitee.io/2020/01/18/20200118180040984/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://machine4869.gitee.io">哑舍</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Scala/">Scala    </a></div><div class="post_share"><div class="social-share" data-image="/img/default_p10.jpeg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"> <i class="fa fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="lazyload post-qr-code__img" src="/img/wechat.png" alt="微信"><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="lazyload post-qr-code__img" src="/img/alipay.jpg" alt="支付宝"><div class="post-qr-code__desc">支付宝</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2020/02/11/20200211151842560/"><img class="prev_cover lazyload" data-src="/img/default_p10.jpeg" onerror="onerror=null;src='/img/404.jpg'"><div class="label">上一篇</div><div class="prev_info"><span>Spark-基础</span></div></a></div><div class="next-post pull_right"><a href="/2019/12/31/20191231112532671/"><img class="next_cover lazyload" data-src="/img/default_p7.jpeg" onerror="onerror=null;src='/img/404.jpg'"><div class="label">下一篇</div><div class="next_info"><span>Electron-跨平台桌面开发</span></div></a></div></nav><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> 评论</span></div><div class="vcomment" id="vcomment"></div><script src="https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script><script>var notify = true == true ? true : false;
var verify = false == true ? true : false;
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;

window.valine = new Valine({
  el:'#vcomment',
  notify:notify,
  verify:verify,
  appId:'yPVvDIaWlODDhs0bbECwLIIp-gzGzoHsz',
  appKey:'VyOIa40LxnjURzW1HUCiwTpV',
  placeholder:'记得留下你的昵称及邮箱，以便收到答复~',
  avatar:'monsterid',
  guest_info:guest_info,
  pageSize:'10',
  lang:'zh-cn',
  recordIP: true
});</script></div></div></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2018 - 2020 By Machine</div><div class="framework-info"><span>驱动 </span><a href="http://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div><div class="footer_custom_text">Hi, welcome to my <a href="https://machine4869.gitee.io/">blog</a>!</div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换" target="_self">简</a><i class="darkmode fa fa-moon-o" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="直达评论"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script id="canvas_nest" color="215,215,215" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/js/canvas-nest.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async=""></script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="noopener" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>