<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5"><title>01_C语言提高（1） | 哑舍</title><meta name="description" content="01_C语言提高（1）"><meta name="keywords" content="c_c++"><meta name="author" content="Machine"><meta name="copyright" content="Machine"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/cat2.ico"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin><link rel="preconnect" href="//busuanzi.ibruce.info"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="01_C语言提高（1）"><meta name="twitter:description" content="01_C语言提高（1）"><meta name="twitter:image" content="https://machine4869.gitee.io/img/default_p12.jpeg"><meta property="og:type" content="article"><meta property="og:title" content="01_C语言提高（1）"><meta property="og:url" content="https://machine4869.gitee.io/2018/09/06/15362416453168/"><meta property="og:site_name" content="哑舍"><meta property="og:description" content="01_C语言提高（1）"><meta property="og:image" content="https://machine4869.gitee.io/img/default_p12.jpeg"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>const autoChangeMode = 'false'
var t = Cookies.get("theme");
if (autoChangeMode == '1'){
const isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
const isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
const isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

if (t === undefined){
  if (isLightMode) activateLightMode()
  else if (isDarkMode) activateDarkMode()
  else if (isNotSpecified || hasNoSupport){
    console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
    now = new Date();
    hour = now.getHours();
    isNight = hour < 6 || hour >= 18
    isNight ? activateDarkMode() : activateLightMode()
}
} else if (t == 'light') activateLightMode()
else activateDarkMode()


} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css"><link rel="canonical" href="https://machine4869.gitee.io/2018/09/06/15362416453168/"><link rel="prev" title="01_C语言提高（2）" href="https://machine4869.gitee.io/2018/09/07/15363344131459/"><link rel="next" title="MAC下apache＋php 配置" href="https://machine4869.gitee.io/2018/08/15/15343253464770/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容:${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://machine4869.gitee.io/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    title: 'Snackbar.bookmark.title',
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: {"bookmark":{"title":"Snackbar.bookmark.title","message_prev":"按","message_next":"键将本页加入书签"},"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#2d3035","position":"bottom-left"},
  baiduPush: false,
  isHome: false,
  isPost: true
  
}</script><meta name="generator" content="Hexo 4.2.0"></head><body><header> <div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">哑舍</a></span><span class="toggle-menu pull_right close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 更多</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> 豆瓣电影</span></a></li><li><a class="site-page" href="/photos/"><i class="fa-fw fa fa-picture-o"></i><span> 照片墙</span></a></li></ul></div></div></span><span class="pull_right" id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> 搜索</span></a></span></div></header><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/head.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">134</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">27</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">45</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 更多</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> 豆瓣电影</span></a></li><li><a class="site-page" href="/photos/"><i class="fa-fw fa fa-picture-o"></i><span> 照片墙</span></a></li></ul></div></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">目录</div><div class="sidebar-toc__content"><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#1-内存四区"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text">1 内存四区</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#1-1-数据类型本质分析"><span class="toc_mobile_items-number">1.1.</span> <span class="toc_mobile_items-text">1.1 数据类型本质分析</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#1-1-1-数据类型的本质"><span class="toc_mobile_items-number">1.1.1.</span> <span class="toc_mobile_items-text">1.1.1 数据类型的本质</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#1-1-2-数据类型的别名"><span class="toc_mobile_items-number">1.1.2.</span> <span class="toc_mobile_items-text">1.1.2 数据类型的别名</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#1-2-变量的本质分析"><span class="toc_mobile_items-number">1.2.</span> <span class="toc_mobile_items-text">1.2 变量的本质分析</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#1-3-程序的内存四区模型"><span class="toc_mobile_items-number">1.3.</span> <span class="toc_mobile_items-text">1.3 程序的内存四区模型</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#全局区分析"><span class="toc_mobile_items-number">1.3.1.</span> <span class="toc_mobile_items-text">全局区分析</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#堆栈区分析"><span class="toc_mobile_items-number">1.3.2.</span> <span class="toc_mobile_items-text">堆栈区分析</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#1-4-函数的调用模型"><span class="toc_mobile_items-number">1.4.</span> <span class="toc_mobile_items-text">1.4 函数的调用模型</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#1-5-函数调用变量传递分析"><span class="toc_mobile_items-number">1.5.</span> <span class="toc_mobile_items-text">1.5 函数调用变量传递分析</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#1-6-栈的生长方向和内存存放方向"><span class="toc_mobile_items-number">1.6.</span> <span class="toc_mobile_items-text">1.6 栈的生长方向和内存存放方向</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#2-指针强化"><span class="toc_mobile_items-number">2.</span> <span class="toc_mobile_items-text">2 指针强化</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#强化-1：指针是一种数据类型"><span class="toc_mobile_items-number">2.1.</span> <span class="toc_mobile_items-text">强化 1：指针是一种数据类型</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#强化-2：间接赋值（-p）是指针存在的最大意义"><span class="toc_mobile_items-number">2.2.</span> <span class="toc_mobile_items-text">强化 2：间接赋值（*p）是指针存在的最大意义</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#强化-3：理解指针必须和内存四区概念相结合"><span class="toc_mobile_items-number">2.3.</span> <span class="toc_mobile_items-text">强化 3：理解指针必须和内存四区概念相结合</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#强化-4：应用指针必须和函数调用相结合（指针做函数参数）"><span class="toc_mobile_items-number">2.4.</span> <span class="toc_mobile_items-text">强化 4：应用指针必须和函数调用相结合（指针做函数参数）</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#3-字符串"><span class="toc_mobile_items-number">3.</span> <span class="toc_mobile_items-text">3 字符串</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#3-1-字符串的基本操作"><span class="toc_mobile_items-number">3.1.</span> <span class="toc_mobile_items-text">3.1 字符串的基本操作</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#3-2-项目开发常用字符串应用模型"><span class="toc_mobile_items-number">3.2.</span> <span class="toc_mobile_items-text">3.2 项目开发常用字符串应用模型</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#3-3-const"><span class="toc_mobile_items-number">3.3.</span> <span class="toc_mobile_items-text">3.3 const</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#4-二级指针"><span class="toc_mobile_items-number">4.</span> <span class="toc_mobile_items-text">4 二级指针</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#4-1-二级指针输出特性"><span class="toc_mobile_items-number">4.1.</span> <span class="toc_mobile_items-text">4.1 二级指针输出特性</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#4-2-二级指针输入特性"><span class="toc_mobile_items-number">4.2.</span> <span class="toc_mobile_items-text">4.2 二级指针输入特性</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#5-多维数组"><span class="toc_mobile_items-number">5.</span> <span class="toc_mobile_items-text">5 多维数组</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#一维数组"><span class="toc_mobile_items-number">5.1.</span> <span class="toc_mobile_items-text">一维数组</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#数组指针"><span class="toc_mobile_items-number">5.2.</span> <span class="toc_mobile_items-text">数组指针</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#多维数组名的本质"><span class="toc_mobile_items-number">5.3.</span> <span class="toc_mobile_items-text">多维数组名的本质</span></a></li></ol></li></ol></div></div></div><div id="body-wrap"><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true">     </i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1-内存四区"><span class="toc-number">1.</span> <span class="toc-text">1 内存四区</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1-数据类型本质分析"><span class="toc-number">1.1.</span> <span class="toc-text">1.1 数据类型本质分析</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-1-数据类型的本质"><span class="toc-number">1.1.1.</span> <span class="toc-text">1.1.1 数据类型的本质</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-2-数据类型的别名"><span class="toc-number">1.1.2.</span> <span class="toc-text">1.1.2 数据类型的别名</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2-变量的本质分析"><span class="toc-number">1.2.</span> <span class="toc-text">1.2 变量的本质分析</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-3-程序的内存四区模型"><span class="toc-number">1.3.</span> <span class="toc-text">1.3 程序的内存四区模型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#全局区分析"><span class="toc-number">1.3.1.</span> <span class="toc-text">全局区分析</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#堆栈区分析"><span class="toc-number">1.3.2.</span> <span class="toc-text">堆栈区分析</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-4-函数的调用模型"><span class="toc-number">1.4.</span> <span class="toc-text">1.4 函数的调用模型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-5-函数调用变量传递分析"><span class="toc-number">1.5.</span> <span class="toc-text">1.5 函数调用变量传递分析</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-6-栈的生长方向和内存存放方向"><span class="toc-number">1.6.</span> <span class="toc-text">1.6 栈的生长方向和内存存放方向</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-指针强化"><span class="toc-number">2.</span> <span class="toc-text">2 指针强化</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#强化-1：指针是一种数据类型"><span class="toc-number">2.1.</span> <span class="toc-text">强化 1：指针是一种数据类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#强化-2：间接赋值（-p）是指针存在的最大意义"><span class="toc-number">2.2.</span> <span class="toc-text">强化 2：间接赋值（*p）是指针存在的最大意义</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#强化-3：理解指针必须和内存四区概念相结合"><span class="toc-number">2.3.</span> <span class="toc-text">强化 3：理解指针必须和内存四区概念相结合</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#强化-4：应用指针必须和函数调用相结合（指针做函数参数）"><span class="toc-number">2.4.</span> <span class="toc-text">强化 4：应用指针必须和函数调用相结合（指针做函数参数）</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-字符串"><span class="toc-number">3.</span> <span class="toc-text">3 字符串</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1-字符串的基本操作"><span class="toc-number">3.1.</span> <span class="toc-text">3.1 字符串的基本操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2-项目开发常用字符串应用模型"><span class="toc-number">3.2.</span> <span class="toc-text">3.2 项目开发常用字符串应用模型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-3-const"><span class="toc-number">3.3.</span> <span class="toc-text">3.3 const</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4-二级指针"><span class="toc-number">4.</span> <span class="toc-text">4 二级指针</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#4-1-二级指针输出特性"><span class="toc-number">4.1.</span> <span class="toc-text">4.1 二级指针输出特性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-2-二级指针输入特性"><span class="toc-number">4.2.</span> <span class="toc-text">4.2 二级指针输入特性</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#5-多维数组"><span class="toc-number">5.</span> <span class="toc-text">5 多维数组</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#一维数组"><span class="toc-number">5.1.</span> <span class="toc-text">一维数组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#数组指针"><span class="toc-number">5.2.</span> <span class="toc-text">数组指针</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#多维数组名的本质"><span class="toc-number">5.3.</span> <span class="toc-text">多维数组名的本质</span></a></li></ol></li></ol></div></div></div><main id="content-outer"><div id="top-container" style="background-image: url(/img/default_p12.jpeg)"><div id="post-info"><div id="post-title"><div class="posttitle">01_C语言提高（1）</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 发表于 2018-09-06<span class="post-meta__separator">|</span><i class="fa fa-history fa-fw" aria-hidden="true"></i> 更新于 2019-11-28</time><span class="post-meta__separator">|</span><span><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/c-c/">c_c++</a></span><div class="post-meta-wordcount"><i class="fa fa-file-word-o post-meta__icon fa-fw" aria-hidden="true"></i><span>字数总计:</span><span class="word-count">9.8k</span><span class="post-meta__separator">|</span><i class="fa fa-clock-o post-meta__icon fa-fw" aria-hidden="true"></i><span>阅读时长: 48 分钟</span><div class="post-meta-pv-cv"><span class="post-meta__separator">|</span><span><i class="fa fa-eye post-meta__icon fa-fw" aria-hidden="true"> </i>阅读量:</span><span id="busuanzi_value_page_pv"></span><span class="post-meta__separator">|</span><i class="fa fa-comments-o post-meta__icon fa-fw" aria-hidden="true"></i><span>评论数:</span><a href="/2018/09/06/15362416453168/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count comment-count" data-xid="/2018/09/06/15362416453168/" itemprop="commentCount"></span></a></div></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><blockquote>
<p>参考：itheima</p>
</blockquote>
<p>[TOC]</p>
<h1 id="1-内存四区"><a href="#1-内存四区" class="headerlink" title="1 内存四区"></a>1 内存四区</h1><h2 id="1-1-数据类型本质分析"><a href="#1-1-数据类型本质分析" class="headerlink" title="1.1 数据类型本质分析"></a>1.1 数据类型本质分析</h2><h3 id="1-1-1-数据类型的本质"><a href="#1-1-1-数据类型的本质" class="headerlink" title="1.1.1 数据类型的本质"></a>1.1.1 数据类型的本质</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">int main(void)</span><br><span class="line">&#123;</span><br><span class="line">    int a;      &#x2F;&#x2F;告诉编译器，分配 4个字节</span><br><span class="line">    int b[10];  &#x2F;&#x2F;告诉编译器，分配 4 * 10 个字节</span><br><span class="line"></span><br><span class="line">    &#x2F;*类型的本质：固定内存块大小别名</span><br><span class="line">      可以通过 sizeof()测试</span><br><span class="line">    *&#x2F;</span><br><span class="line"></span><br><span class="line">    printf(&quot;sizeof(a) &#x3D; %d, sizeof(b) &#x3D; %d\n&quot;, sizeof(a), sizeof(b));</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;打印地址</span><br><span class="line">    &#x2F;&#x2F;数组名字，数组首元素地址，数组首地址</span><br><span class="line">    printf(&quot;b:%ld， &amp;b:%ld\n&quot;, b, &amp;b);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;b, &amp;b的数组类型不一样</span><br><span class="line">    &#x2F;&#x2F;b， 数组首元素地址， 一个元素4字节，+1， +4</span><br><span class="line">    &#x2F;&#x2F;&amp;b, 整个数组的首地址，一个数组4*10  &#x3D; 40字节，+1， +40</span><br><span class="line">    printf(&quot;b+1:%ld， &amp;b+1:%ld\n&quot;, b+1, &amp;b+1);</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;指针类型长度，32位程序， 长度4</span><br><span class="line">    &#x2F;&#x2F;              64位程序， 长度8</span><br><span class="line">    char ***********************p &#x3D; NULL;</span><br><span class="line">    int *q &#x3D; NULL;</span><br><span class="line">    printf(&quot;%d, %d\n&quot;, sizeof(p), sizeof(q));</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;*</span><br><span class="line">sizeof(a) &#x3D; 4, sizeof(b) &#x3D; 40</span><br><span class="line">b:140732775582288， &amp;b:140732775582288</span><br><span class="line">b+1:140732775582292， &amp;b+1:140732775582328</span><br><span class="line">8, 8</span><br><span class="line"> *&#x2F;</span><br></pre></td></tr></table></figure></div>

<h3 id="1-1-2-数据类型的别名"><a href="#1-1-2-数据类型的别名" class="headerlink" title="1.1.2 数据类型的别名"></a>1.1.2 数据类型的别名</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">#define  _CRT_SECURE_NO_WARNINGS</span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &lt;stdlib.h&gt;</span><br><span class="line">#include &lt;string.h&gt;</span><br><span class="line"></span><br><span class="line">typedef unsigned int u32;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;typedef和结构体结合使用</span><br><span class="line">struct MyStruct</span><br><span class="line">&#123;</span><br><span class="line">    int a;</span><br><span class="line">    int b;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">typedef struct MyStruct2</span><br><span class="line">&#123;</span><br><span class="line">    int a;</span><br><span class="line">    int b;</span><br><span class="line">&#125;TMP;</span><br><span class="line"></span><br><span class="line">&#x2F;* void, 无类型</span><br><span class="line">1、函数参数为空，定义函数时，可以用void修饰:  int fun(void)</span><br><span class="line">2、函数没有返回值：void fun(void);</span><br><span class="line">3、不能定义void类型的普通变量： void a; &#x2F;&#x2F;err,无法确定类型,不同类型分配空间不一样</span><br><span class="line">4、可以定义void *变量： void *p; &#x2F;&#x2F;ok， 32永远4字节，64永远8字节</span><br><span class="line">5、数据类型本质：固定内存块大小别名</span><br><span class="line">6、void *p万能指针，函数返回值，函数参数</span><br><span class="line"></span><br><span class="line">*&#x2F;</span><br><span class="line"></span><br><span class="line">int main(void)</span><br><span class="line">&#123;</span><br><span class="line">    u32 t; &#x2F;&#x2F; unsigned int</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;定义结构体变量，一定要加上struct关键字</span><br><span class="line">    struct MyStruct m1;</span><br><span class="line">    &#x2F;&#x2F;MyStruct m2; &#x2F;&#x2F;err</span><br><span class="line"></span><br><span class="line">    TMP m3;</span><br><span class="line">    struct MyStruct2 m4;</span><br><span class="line"></span><br><span class="line">    char buf[1024];</span><br><span class="line">    strcpy(buf, &quot;1111111111&quot;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line">    system(&quot;pause&quot;);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h2 id="1-2-变量的本质分析"><a href="#1-2-变量的本质分析" class="headerlink" title="1.2 变量的本质分析"></a>1.2 变量的本质分析</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line"></span><br><span class="line">int main(void)</span><br><span class="line">&#123;</span><br><span class="line">    &#x2F;&#x2F;变量本质：一段连续内存空间别名</span><br><span class="line">    &#x2F;&#x2F;变量相当于门牌号，内存相当于房间</span><br><span class="line">    int a;</span><br><span class="line">    int *p;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;直接赋值</span><br><span class="line">    a &#x3D; 10;</span><br><span class="line"></span><br><span class="line">    printf(&quot;a &#x3D; %d\n&quot;, a);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;间接赋值</span><br><span class="line">    printf(&quot;&amp;a: %ld\n&quot;, &amp;a);</span><br><span class="line">    p &#x3D; &amp;a;</span><br><span class="line">    printf(&quot;p &#x3D; %ld\n&quot;, p);</span><br><span class="line"></span><br><span class="line">    *p &#x3D; 22;</span><br><span class="line">    printf(&quot;*p &#x3D; %d, a &#x3D; %d\n&quot;, *p, a);</span><br><span class="line"></span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;*</span><br><span class="line">    a &#x3D; 10</span><br><span class="line">    &amp;a: 140732754213496</span><br><span class="line">    p &#x3D; 140732754213496</span><br><span class="line">    *p &#x3D; 22, a &#x3D; 22</span><br><span class="line">*&#x2F;</span><br></pre></td></tr></table></figure></div>

<h2 id="1-3-程序的内存四区模型"><a href="#1-3-程序的内存四区模型" class="headerlink" title="1.3 程序的内存四区模型"></a>1.3 程序的内存四区模型</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1）栈区：系统分配空间，系统自动回收，函数内部定义的变量，函数参数，函数结束，其内部变量生命周期结束</span><br><span class="line"></span><br><span class="line">2）堆区：程序员动态分配空间，由程序员手动释放，没有手动释放，分配的空间一直可用</span><br><span class="line"></span><br><span class="line">3）全局区（全局变量和静态变量，里面又分为初始化区和未初始化区，文字常量区：字符常量）：整个程序运行完毕，系统自动回收</span><br><span class="line"></span><br><span class="line">4）代码区</span><br></pre></td></tr></table></figure></div>

<h3 id="全局区分析"><a href="#全局区分析" class="headerlink" title="全局区分析"></a>全局区分析</h3><p>全局区：全局变量 静态变量 文字常量区</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line"></span><br><span class="line">char *get_str1()</span><br><span class="line">&#123;</span><br><span class="line">    char *p &#x3D; &quot;abcdef&quot;; &#x2F;&#x2F;文字常量区</span><br><span class="line">    &#x2F;&#x2F;char *p &#x3D; &quot;abcdef1&quot;;</span><br><span class="line">    return p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">char *get_str2()</span><br><span class="line">&#123;</span><br><span class="line">    char *q &#x3D; &quot;abcdef&quot;; &#x2F;&#x2F;文字常量区，和上面的常量&quot;abcdef&quot;地址是一样的</span><br><span class="line">    &#x2F;&#x2F;char *q &#x3D; &quot;abcdef2&quot;;</span><br><span class="line">    return q;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main(void)</span><br><span class="line">&#123;</span><br><span class="line">    char *p &#x3D; NULL;</span><br><span class="line">    char *q &#x3D; NULL;</span><br><span class="line"></span><br><span class="line">    p &#x3D; get_str1();</span><br><span class="line">    &#x2F;&#x2F;%s： 指针指向内存区域的内容</span><br><span class="line">    &#x2F;&#x2F;%d: 打印p本身的值</span><br><span class="line">    printf(&quot;p &#x3D; %s， p &#x3D; %d \n&quot;, p, p);</span><br><span class="line"></span><br><span class="line">    q &#x3D; get_str2();</span><br><span class="line">    printf(&quot;q &#x3D; %s， q &#x3D; %d&quot;, q, q);</span><br><span class="line"></span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;*</span><br><span class="line">    p &#x3D; abcdef1， p &#x3D; 226439038</span><br><span class="line">    q &#x3D; abcdef2， q &#x3D; 226439046</span><br><span class="line"> *&#x2F;</span><br></pre></td></tr></table></figure></div>

<p>全局区分析</p>
<p><a href="/2018/09/06/15362416453168/05_%E5%85%A8%E5%B1%80%E5%8C%BA%E5%88%86%E6%9E%90.png" data-fancybox="group" data-caption="05_全局区分析" class="fancybox"><img alt="05_全局区分析" title="05_全局区分析" data-src="/2018/09/06/15362416453168/05_%E5%85%A8%E5%B1%80%E5%8C%BA%E5%88%86%E6%9E%90.png" class="lazyload"></a></p>
<h3 id="堆栈区分析"><a href="#堆栈区分析" class="headerlink" title="堆栈区分析"></a>堆栈区分析</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">#define _CRT_SECURE_NO_WARNINGS</span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &lt;stdlib.h&gt;</span><br><span class="line">#include &lt;string.h&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;栈</span><br><span class="line">char *get_str()</span><br><span class="line">&#123;</span><br><span class="line">    char str[] &#x3D; &quot;abcdedsgads&quot;; &#x2F;&#x2F;&quot;abcdedsgads&quot;在常量区，但是会拷贝一份到 栈区str[]，函数运行完会释放栈区str[]</span><br><span class="line">    printf(&quot;str &#x3D; %s\n&quot;, str);</span><br><span class="line"></span><br><span class="line">    return str;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;堆</span><br><span class="line">char *get_str2()</span><br><span class="line">&#123;</span><br><span class="line">    char *tmp &#x3D; (char *)malloc(100);</span><br><span class="line">    if (tmp &#x3D;&#x3D; NULL)</span><br><span class="line">    &#123;</span><br><span class="line">        return NULL;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    strcpy(tmp, &quot;adsagldsjglk&quot;);</span><br><span class="line"></span><br><span class="line">    return tmp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main(void)</span><br><span class="line">&#123;</span><br><span class="line">    char buf[128] &#x3D; &#123; 0 &#125;;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;strcpy(buf, get_str());</span><br><span class="line">    &#x2F;&#x2F;printf(&quot;buf &#x3D; %s\n&quot;, buf); &#x2F;&#x2F;乱码，不确定，因为栈区数据在函数get_str调用完会释放</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;解决办法：申请堆区</span><br><span class="line">    </span><br><span class="line">    char *p &#x3D; NULL;</span><br><span class="line">    p &#x3D; get_str2();</span><br><span class="line">    if (p !&#x3D; NULL)</span><br><span class="line">    &#123;</span><br><span class="line">        printf(&quot;p &#x3D; %s\n&quot;, p);</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F;堆区要手动释放</span><br><span class="line">        &#x2F;&#x2F;free是一个标识位，表示p这个空间可以被使用</span><br><span class="line">        free(p);</span><br><span class="line">        &#x2F;&#x2F;把指针赋值为空（不然它就指向一个已释放的空间地址）</span><br><span class="line">        p &#x3D; NULL;</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F;已经释放的空间不能再free（空间使用权已经交出去了）, 否则报错</span><br><span class="line">        if (p !&#x3D; NULL)</span><br><span class="line">        &#123;</span><br><span class="line">            free(p);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>栈区分析<br><a href="/2018/09/06/15362416453168/06%E6%A0%88%E5%8C%BA%E5%88%86%E6%9E%90.png" data-fancybox="group" data-caption="06栈区分析" class="fancybox"><img alt="06栈区分析" title="06栈区分析" data-src="/2018/09/06/15362416453168/06%E6%A0%88%E5%8C%BA%E5%88%86%E6%9E%90.png" class="lazyload"></a></p>
<p>堆区分析<br><a href="/2018/09/06/15362416453168/04_%E5%A0%86%E5%8C%BA%E5%88%86%E6%9E%90.png" data-fancybox="group" data-caption="04_堆区分析" class="fancybox"><img alt="04_堆区分析" title="04_堆区分析" data-src="/2018/09/06/15362416453168/04_%E5%A0%86%E5%8C%BA%E5%88%86%E6%9E%90.png" class="lazyload"></a></p>
<h2 id="1-4-函数的调用模型"><a href="#1-4-函数的调用模型" class="headerlink" title="1.4 函数的调用模型"></a>1.4 函数的调用模型</h2><p>栈：先进后出</p>
<p><a href="/2018/09/06/15362416453168/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-09-06%20%E4%B8%8B%E5%8D%8811.21.49.png" data-fancybox="group" data-caption="屏幕快照 2018-09-06 下午11.21.49" class="fancybox"><img alt="屏幕快照 2018-09-06 下午11.21.49" title="屏幕快照 2018-09-06 下午11.21.49" data-src="/2018/09/06/15362416453168/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-09-06%20%E4%B8%8B%E5%8D%8811.21.49.png" class="lazyload"></a></p>
<h2 id="1-5-函数调用变量传递分析"><a href="#1-5-函数调用变量传递分析" class="headerlink" title="1.5 函数调用变量传递分析"></a>1.5 函数调用变量传递分析</h2><p><a href="/2018/09/06/15362416453168/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-09-06%20%E4%B8%8B%E5%8D%8811.26.02.png" data-fancybox="group" data-caption="屏幕快照 2018-09-06 下午11.26.02" class="fancybox"><img alt="屏幕快照 2018-09-06 下午11.26.02" title="屏幕快照 2018-09-06 下午11.26.02" data-src="/2018/09/06/15362416453168/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-09-06%20%E4%B8%8B%E5%8D%8811.26.02.png" class="lazyload"></a></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1. main 函数中可以在栈&#x2F;堆&#x2F;全局分配内存，都可以被 func1 和 func2 使用</span><br><span class="line"></span><br><span class="line">2. func2 在栈上分配的内存，不能被 func1 和 main 函数使用</span><br><span class="line"></span><br><span class="line">3. func2 中 malloc 的内存(堆),可以被 main 和 func1 函数使用</span><br><span class="line"></span><br><span class="line">**</span><br><span class="line">4. func2 中全局分配“abcdefg”(常量全局区)内存，可以被 func1 和 main 函数使用</span><br></pre></td></tr></table></figure></div>

<h2 id="1-6-栈的生长方向和内存存放方向"><a href="#1-6-栈的生长方向和内存存放方向" class="headerlink" title="1.6 栈的生长方向和内存存放方向"></a>1.6 栈的生长方向和内存存放方向</h2><p><a href="/2018/09/06/15362416453168/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-09-06%20%E4%B8%8B%E5%8D%8811.46.38.png" data-fancybox="group" data-caption="屏幕快照 2018-09-06 下午11.46.38" class="fancybox"><img alt="屏幕快照 2018-09-06 下午11.46.38" title="屏幕快照 2018-09-06 下午11.46.38" data-src="/2018/09/06/15362416453168/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-09-06%20%E4%B8%8B%E5%8D%8811.46.38.png" class="lazyload"></a></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line"></span><br><span class="line">int main(void)</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;栈区</span><br><span class="line">    int a;</span><br><span class="line">    int b;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;栈的生长方向：从高到底</span><br><span class="line">    printf(&quot;&amp;a &#x3D; %ld, &amp;b &#x3D; %ld\n&quot;, &amp;a, &amp;b);</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;堆的生长方向：与栈相反</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;内存存放方向：低 &gt; 高</span><br><span class="line">    int buf[100];</span><br><span class="line">    printf(&quot;buf: %ld, buf+1:%ld\n&quot;, buf, buf+1);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;*</span><br><span class="line">    &amp;a &#x3D; 140732802033880, &amp;b &#x3D; 140732802033876</span><br><span class="line">    buf: 140732802033888, buf+1:140732802033892</span><br><span class="line"> *&#x2F;</span><br></pre></td></tr></table></figure></div>

<h1 id="2-指针强化"><a href="#2-指针强化" class="headerlink" title="2 指针强化"></a>2 指针强化</h1><h2 id="强化-1：指针是一种数据类型"><a href="#强化-1：指针是一种数据类型" class="headerlink" title="强化 1：指针是一种数据类型"></a>强化 1：指针是一种数据类型</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line"></span><br><span class="line">int main(void)</span><br><span class="line">&#123;</span><br><span class="line">    int *p &#x3D; 0x11111;</span><br><span class="line">    char ***************q &#x3D; 0x11;</span><br><span class="line"></span><br><span class="line">    printf(&quot;sizeof(p) &#x3D; %d, sizeof(q) &#x3D;%d\n&quot;, sizeof(p), sizeof(q));</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    int a &#x3D; 100;</span><br><span class="line">    int *p1 &#x3D; NULL;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;指针指向谁，就把谁的地址赋值给指针</span><br><span class="line">    p1 &#x3D; &amp;a;</span><br><span class="line">    &#x2F;&#x2F;*钥匙，通过*可以找到指针指向的内存区域，操作还是内存</span><br><span class="line">    *p1 &#x3D; 22;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;*放在&#x3D;左边，给内存赋值，写内存</span><br><span class="line">    &#x2F;&#x2F;*放在&#x3D;右边，取内存的值，读内容</span><br><span class="line">    int b &#x3D; *p1;</span><br><span class="line">    printf(&quot;a &#x3D; %d\n&quot;, a);</span><br><span class="line">    printf(&quot;b &#x3D; %d\n&quot;, b);</span><br><span class="line"></span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;*</span><br><span class="line">    sizeof(p) &#x3D; 8, sizeof(q) &#x3D;8</span><br><span class="line">    a &#x3D; 22</span><br><span class="line">    b &#x3D; 22</span><br><span class="line"> *&#x2F;</span><br></pre></td></tr></table></figure></div>

<p><strong>指针变量和它指向的内存块是两个不同的概念</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &lt;stdlib.h&gt;</span><br><span class="line">#include &lt;string.h&gt;</span><br><span class="line"></span><br><span class="line">int main(void)</span><br><span class="line">&#123;</span><br><span class="line">    char *p &#x3D; NULL;</span><br><span class="line">    char buf[] &#x3D; &quot;abcdef&quot;;</span><br><span class="line"></span><br><span class="line">    printf(&quot;p1 &#x3D; %d\n&quot;, p);</span><br><span class="line">    &#x2F;&#x2F;改变指针变量的值</span><br><span class="line">    p &#x3D; buf;</span><br><span class="line">    printf(&quot;p2 &#x3D; %ld\n&quot;, p);</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;指针变量，和指向指向的内存是两个不同的概念</span><br><span class="line">    p &#x3D; p + 1; &#x2F;&#x2F;改变了指向变量的值，改变了指针的指向</span><br><span class="line">    printf(&quot;p2 &#x3D; %ld\n&quot;, p);</span><br><span class="line">    printf(&quot;buf &#x3D; %s\n&quot;, buf);</span><br><span class="line"></span><br><span class="line">    printf(&quot;*p &#x3D; %c\n&quot;, *p);</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;改变指针指向的内存，并不会影响到指针的值</span><br><span class="line">    printf(&quot;改变指针指向的内存，并不会影响到指针的值\n&quot;);</span><br><span class="line">    buf[1] &#x3D; &#39;1&#39;;</span><br><span class="line">    printf(&quot;p3 &#x3D; %ld\n&quot;, p);</span><br><span class="line">    printf(&quot;buf2 &#x3D; %s\n&quot;, buf);</span><br><span class="line"></span><br><span class="line">    *p &#x3D; &#39;m&#39;;</span><br><span class="line">    printf(&quot;p4 &#x3D; %ld\n&quot;, p);</span><br><span class="line">    printf(&quot;buf3 &#x3D; %s\n&quot;, buf);</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;写内存时，一定要确保内存可写</span><br><span class="line">    char *buf2 &#x3D; &quot;sadgkdsjlgjlsdk&quot;; &#x2F;&#x2F;文字常量区，内存不可改</span><br><span class="line">    &#x2F;&#x2F;buf2[2] &#x3D; &#39;1&#39;; &#x2F;&#x2F;err</span><br><span class="line"></span><br><span class="line">    char buf3[] &#x3D; &quot;skgjkdsjgjds&quot;;</span><br><span class="line">    buf3[1] &#x3D; &#39;1&#39;; &#x2F;&#x2F;ok</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;不允许向 NULL 和未知非法地址拷贝内存。</span><br><span class="line"></span><br><span class="line">    char *p3 &#x3D; NULL;</span><br><span class="line">    p3 &#x3D; buf3;</span><br><span class="line">    &#x2F;&#x2F;给p3指向的内存区域拷贝内存</span><br><span class="line">    strcpy(p3, &quot;1111&quot;); &#x2F;&#x2F;err</span><br><span class="line"></span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;*</span><br><span class="line">    p1 &#x3D; 0</span><br><span class="line">    p2 &#x3D; 140732889754241</span><br><span class="line">    p2 &#x3D; 140732889754242</span><br><span class="line">    buf &#x3D; abcdef</span><br><span class="line">    *p &#x3D; b</span><br><span class="line">    改变指针指向的内存，并不会影响到指针的值</span><br><span class="line">    p3 &#x3D; 140732889754242</span><br><span class="line">    buf2 &#x3D; a1cdef</span><br><span class="line">    p4 &#x3D; 140732889754242</span><br><span class="line">    buf3 &#x3D; amcdef</span><br><span class="line"> *&#x2F;</span><br></pre></td></tr></table></figure></div>

<p><strong>当我们不断的给指针变量赋值，就是不断的改变指针变量</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">#define _CRT_SECURE_NO_WARNINGS</span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &lt;stdlib.h&gt;</span><br><span class="line">#include &lt;string.h&gt;</span><br><span class="line"></span><br><span class="line">int main(void)</span><br><span class="line">&#123;</span><br><span class="line">    char *p &#x3D; NULL;</span><br><span class="line">    char *q &#x3D; NULL;</span><br><span class="line">    int i &#x3D; 0;</span><br><span class="line"></span><br><span class="line">    char buf[100] &#x3D; &quot;akgjdksjg&quot;;</span><br><span class="line"></span><br><span class="line">    p &#x3D; &amp;buf[0];</span><br><span class="line">    printf(&quot;p1 &#x3D; %ld, %c\n&quot;, p, *p);</span><br><span class="line"></span><br><span class="line">    p &#x3D; &amp;buf[1];</span><br><span class="line">    printf(&quot;p2 &#x3D; %ld, %c\n\n&quot;, p, *p);</span><br><span class="line"></span><br><span class="line">    for (i &#x3D; 0; i &lt; strlen(buf); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        &#x2F;&#x2F;p &#x3D; &amp;buf[i];</span><br><span class="line">        p &#x3D; buf + i;</span><br><span class="line">        printf(&quot;p3 &#x3D; %ld, %c\n&quot;, p, *p);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    q &#x3D; (char *)malloc(100);</span><br><span class="line">    if (q &#x3D;&#x3D; NULL)</span><br><span class="line">    &#123;</span><br><span class="line">        return -1;</span><br><span class="line">    &#125;</span><br><span class="line">    strcpy(q, &quot;abcdefg&quot;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line">    for (i &#x3D; 0; i &lt; strlen(q); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        p &#x3D; q + i;</span><br><span class="line">        printf(&quot;%c &quot;, *p);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;*</span><br><span class="line">    p1 &#x3D; 140732771035712, a</span><br><span class="line">    p2 &#x3D; 140732771035713, k</span><br><span class="line">    </span><br><span class="line">    p3 &#x3D; 140732771035712, a</span><br><span class="line">    p3 &#x3D; 140732771035713, k</span><br><span class="line">    p3 &#x3D; 140732771035714, g</span><br><span class="line">    p3 &#x3D; 140732771035715, j</span><br><span class="line">    p3 &#x3D; 140732771035716, d</span><br><span class="line">    p3 &#x3D; 140732771035717, k</span><br><span class="line">    p3 &#x3D; 140732771035718, s</span><br><span class="line">    p3 &#x3D; 140732771035719, j</span><br><span class="line">    p3 &#x3D; 140732771035720, g</span><br><span class="line">    </span><br><span class="line">    a b c d e f g </span><br><span class="line"> </span><br><span class="line"> *&#x2F;</span><br></pre></td></tr></table></figure></div>

<h2 id="强化-2：间接赋值（-p）是指针存在的最大意义"><a href="#强化-2：间接赋值（-p）是指针存在的最大意义" class="headerlink" title="强化 2：间接赋值（*p）是指针存在的最大意义"></a>强化 2：间接赋值（*p）是指针存在的最大意义</h2><p><strong>通过指针间接赋值</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><span class="line">#define _CRT_SECURE_NO_WARNINGS</span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &lt;stdlib.h&gt;</span><br><span class="line">#include &lt;string.h&gt;</span><br><span class="line"></span><br><span class="line">int get_a()</span><br><span class="line">&#123;</span><br><span class="line">    int a &#x3D; 10;</span><br><span class="line"></span><br><span class="line">    return a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void get_a2(int b)</span><br><span class="line">&#123;</span><br><span class="line">    b &#x3D; 22;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void get_a3(int *p)</span><br><span class="line">&#123;</span><br><span class="line">    *p &#x3D; 33; &#x2F;&#x2F;通过*操作内存</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void get_a4(int *a1, int *a2, int *a3, int *a4)</span><br><span class="line">&#123;</span><br><span class="line">    *a1 &#x3D; 1;</span><br><span class="line">    *a2 &#x3D; 2;</span><br><span class="line">    *a3 &#x3D; 3;</span><br><span class="line">    *a4 &#x3D; 4;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">int main01(void)</span><br><span class="line">&#123;</span><br><span class="line">    int a &#x3D; 100;	&#x2F;&#x2F;两个变量</span><br><span class="line">    int *p &#x3D; NULL;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;建立关系</span><br><span class="line">    &#x2F;&#x2F;指针指向谁，就把谁的地址赋值给指针</span><br><span class="line">    p &#x3D; &amp;a;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;通过*操作内存</span><br><span class="line">    *p &#x3D; 22;</span><br><span class="line"></span><br><span class="line">    &#x2F;*通过指针间接赋值</span><br><span class="line">    1、两个变量</span><br><span class="line">    2、建立关系</span><br><span class="line">    3、通过*操作内存</span><br><span class="line">    *&#x2F;</span><br><span class="line"></span><br><span class="line">    int b &#x3D; get_a();</span><br><span class="line">    printf(&quot;b &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; %d\n&quot;, b);</span><br><span class="line"></span><br><span class="line">    get_a2(b);</span><br><span class="line">    printf(&quot;b2 &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; %d\n&quot;, b);</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;** 如果想通过形参改变实参的内存内容（值），必须地址传递</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;实参，形参</span><br><span class="line">    get_a3(&amp;b); &#x2F;&#x2F;在函数调用时，建立关系</span><br><span class="line">    printf(&quot;b3 &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; %d\n&quot;, b);</span><br><span class="line"></span><br><span class="line">    int a1, a2, a3, a4;</span><br><span class="line">    get_a4(&amp;a1, &amp;a2, &amp;a3, &amp;a4);</span><br><span class="line">    printf(&quot;a1 &#x3D; %d，a2 &#x3D; %d, a3 &#x3D; %d, a4 &#x3D; %d\n&quot;, a1, a2, a3, a4);</span><br><span class="line"></span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line">    return 0;</span><br><span class="line"></span><br><span class="line">    &#x2F;*</span><br><span class="line">        b &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; 10</span><br><span class="line">        b2 &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; 10</span><br><span class="line">        b3 &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; 33</span><br><span class="line">        a1 &#x3D; 1，a2 &#x3D; 2, a3 &#x3D; 3, a4 &#x3D; 4</span><br><span class="line">     *&#x2F;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void fun2(int *p)</span><br><span class="line">&#123;</span><br><span class="line">    p &#x3D; 0xaabb;</span><br><span class="line">    printf(&quot;fun2:p &#x3D; %p\n&quot;, p);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void fun3(int **p)</span><br><span class="line">&#123;</span><br><span class="line">    *p &#x3D; 0xeeff;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main(void)</span><br><span class="line">&#123;</span><br><span class="line">    &#x2F;&#x2F;一个变量，应该定义一个怎么类型的指针保存它的地址</span><br><span class="line">    &#x2F;&#x2F;在原来类型基础上加一个*</span><br><span class="line">&#x2F;&#x2F; 	int a &#x3D; 10;</span><br><span class="line">&#x2F;&#x2F; 	int *p &#x3D; &amp;a;</span><br><span class="line">&#x2F;&#x2F; 	int **q &#x3D; &amp;p;</span><br><span class="line">&#x2F;&#x2F;</span><br><span class="line">&#x2F;&#x2F; 	int ************t &#x3D; NULL;</span><br><span class="line">&#x2F;&#x2F; 	int * ************t2 &#x3D; &amp;t;</span><br><span class="line"></span><br><span class="line">    int *p &#x3D; 0x1122;</span><br><span class="line">    printf(&quot;p1 &#x3D; %p\n&quot;, p);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    fun2(p); &#x2F;&#x2F;值传递</span><br><span class="line">    printf(&quot;p2 &#x3D; %p\n&quot;, p);</span><br><span class="line"></span><br><span class="line">    fun3(&amp;p); &#x2F;&#x2F;地址传递</span><br><span class="line">    printf(&quot;p2 &#x3D; %p\n&quot;, p);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line">    return 0;</span><br><span class="line"></span><br><span class="line">    &#x2F;*</span><br><span class="line">        p1 &#x3D; 0x1122</span><br><span class="line">        fun2:p &#x3D; 0xaabb</span><br><span class="line">        p2 &#x3D; 0x1122</span><br><span class="line">        p2 &#x3D; 0xeeff</span><br><span class="line">     *&#x2F;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h2 id="强化-3：理解指针必须和内存四区概念相结合"><a href="#强化-3：理解指针必须和内存四区概念相结合" class="headerlink" title="强化 3：理解指针必须和内存四区概念相结合"></a>强化 3：理解指针必须和内存四区概念相结合</h2><p><strong>指针做参数输入输出特性</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line">#define _CRT_SECURE_NO_WARNINGS</span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &lt;stdlib.h&gt;</span><br><span class="line">#include &lt;string.h&gt;</span><br><span class="line"></span><br><span class="line">void fun(char *p &#x2F;* in *&#x2F;)</span><br><span class="line">&#123;</span><br><span class="line">    &#x2F;&#x2F;给p指向的内存区域拷贝</span><br><span class="line">    strcpy(p, &quot;abcddsgsd&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void fun2(char *p)</span><br><span class="line">&#123;</span><br><span class="line">    if (p &#x3D;&#x3D; NULL)</span><br><span class="line">    &#123;</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;给p指向的内存区域拷贝</span><br><span class="line">    strcpy(p, &quot;abcddsgsd&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void fun3(char **p &#x2F;* out *&#x2F;, int *len)</span><br><span class="line">&#123;</span><br><span class="line">    if (p &#x3D;&#x3D; NULL)</span><br><span class="line">    &#123;</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    char *tmp &#x3D; (char *)malloc(100);</span><br><span class="line">    if (tmp &#x3D;&#x3D; NULL)</span><br><span class="line">    &#123;</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    strcpy(tmp, &quot;adlsgjldsk&quot;);</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;间接赋值</span><br><span class="line">    *p &#x3D; tmp;</span><br><span class="line">    *len &#x3D; strlen(tmp);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main(void)</span><br><span class="line">&#123;</span><br><span class="line">    &#x2F;&#x2F;输入，主调函数分配内存</span><br><span class="line">    char buf[100] &#x3D; &#123; 0 &#125;;</span><br><span class="line">    fun(buf);</span><br><span class="line">    printf(&quot;buf  &#x3D; %s\n&quot;, buf);</span><br><span class="line"></span><br><span class="line">    char *str &#x3D; NULL;</span><br><span class="line">    fun2(str);</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;输出，被调用函数分配内存，地址传递</span><br><span class="line">    &#x2F;&#x2F; p的指向是null，但p变量本身不null</span><br><span class="line">    char *p &#x3D; NULL;</span><br><span class="line">    int len &#x3D; 0;</span><br><span class="line">    fun3(&amp;p, &amp;len);</span><br><span class="line">    if (p !&#x3D; NULL)</span><br><span class="line">    &#123;</span><br><span class="line">        printf(&quot;p &#x3D; %s, len &#x3D; %d\n&quot;, p, len);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line">    return 0;</span><br><span class="line"></span><br><span class="line">    &#x2F;*</span><br><span class="line">        buf  &#x3D; abcddsgsd</span><br><span class="line">        p &#x3D; adlsgjldsk, len &#x3D; 10</span><br><span class="line">    *&#x2F;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h2 id="强化-4：应用指针必须和函数调用相结合（指针做函数参数）"><a href="#强化-4：应用指针必须和函数调用相结合（指针做函数参数）" class="headerlink" title="强化 4：应用指针必须和函数调用相结合（指针做函数参数）"></a>强化 4：应用指针必须和函数调用相结合（指针做函数参数）</h2><h1 id="3-字符串"><a href="#3-字符串" class="headerlink" title="3 字符串"></a>3 字符串</h1><h2 id="3-1-字符串的基本操作"><a href="#3-1-字符串的基本操作" class="headerlink" title="3.1 字符串的基本操作"></a>3.1 字符串的基本操作</h2><p><strong>字符串的初始化</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &lt;string.h&gt;</span><br><span class="line"></span><br><span class="line">&#x2F;*</span><br><span class="line">  c语言没有字符串类型，通过字符数组模拟</span><br><span class="line">  C语言字符串，以字符‘\0’, 数字0</span><br><span class="line">*&#x2F;</span><br><span class="line">int main01(void)</span><br><span class="line">&#123;</span><br><span class="line">    &#x2F;&#x2F;不指定长度, 没有0结束符，有多少个元素就有多长</span><br><span class="line">    char buf[] &#x3D; &#123; &#39;a&#39;, &#39;b&#39;, &#39;c&#39; &#125;;</span><br><span class="line">    printf(&quot;buf &#x3D; %s\n&quot;, buf);</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;指定长度，后面没有赋值的元素，自动补0</span><br><span class="line">    char buf2[100] &#x3D; &#123; &#39;a&#39;, &#39;b&#39;, &#39;c&#39; &#125;;</span><br><span class="line">    printf(&quot;buf2 &#x3D; %s\n&quot;, buf2);</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;所有元素赋值为0</span><br><span class="line">    char buf3[100] &#x3D; &#123; 0 &#125;;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;char buf4[2] &#x3D; &#123; &#39;1&#39;, &#39;2&#39;, &#39;3&#39; &#125;;&#x2F;&#x2F;数组越界</span><br><span class="line"></span><br><span class="line">    char buf5[50] &#x3D; &#123; &#39;1&#39;, &#39;a&#39;, &#39;b&#39;, &#39;0&#39;, &#39;7&#39; &#125;;</span><br><span class="line">    printf(&quot;buf5 &#x3D; %s\n&quot;, buf5);</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;%s遇到数字0 就默认结束</span><br><span class="line">    char buf6[50] &#x3D; &#123; &#39;1&#39;, &#39;a&#39;, &#39;b&#39;, 0, &#39;7&#39; &#125;;</span><br><span class="line">    printf(&quot;buf6 &#x3D; %s\n&quot;, buf6);</span><br><span class="line"></span><br><span class="line">    char buf7[50] &#x3D; &#123; &#39;1&#39;, &#39;a&#39;, &#39;b&#39;, &#39;\0&#39;, &#39;7&#39; &#125;;</span><br><span class="line">    printf(&quot;buf7 &#x3D; %s\n&quot;, buf7);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;使用字符串初始化，常用</span><br><span class="line">    char buf8[] &#x3D; &quot;agjdslgjlsdjg&quot;;</span><br><span class="line">    &#x2F;&#x2F;strlen: 测字符串长度，不包含数字0，字符&#39;\0&#39;</span><br><span class="line">    &#x2F;&#x2F;sizeof：测数组长度，包含数字0，字符&#39;\0&#39;</span><br><span class="line">    printf(&quot;strlen &#x3D; %d, sizeof &#x3D; %d\n&quot;, strlen(buf8), sizeof(buf8));</span><br><span class="line"></span><br><span class="line">    char buf9[100] &#x3D; &quot;agjdslgjlsdjg&quot;;</span><br><span class="line">    printf(&quot;strlen &#x3D; %d, sizeof &#x3D; %d\n&quot;, strlen(buf9), sizeof(buf9));</span><br><span class="line"></span><br><span class="line">    printf(&quot;test&quot;);</span><br><span class="line">    &#x2F;&#x2F;\012相当于\n</span><br><span class="line">    char str[] &#x3D; &quot;\0129&quot;;</span><br><span class="line">    printf(&quot;%s\n&quot;, str);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line">    return 0;</span><br><span class="line"></span><br><span class="line">    &#x2F;*</span><br><span class="line">        buf &#x3D; abc</span><br><span class="line">        buf2 &#x3D; abc</span><br><span class="line">        buf5 &#x3D; 1ab07</span><br><span class="line">        buf6 &#x3D; 1ab</span><br><span class="line">        buf7 &#x3D; 1ab</span><br><span class="line">        strlen &#x3D; 13, sizeof &#x3D; 14</span><br><span class="line">        strlen &#x3D; 13, sizeof &#x3D; 100</span><br><span class="line">        test</span><br><span class="line">        9</span><br><span class="line">     *&#x2F;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main(void)</span><br><span class="line">&#123;</span><br><span class="line">    char buf[] &#x3D; &quot;algjdlksajgldksjg&quot;;</span><br><span class="line">    int i &#x3D; 0;</span><br><span class="line">    int n &#x3D; strlen(buf);</span><br><span class="line">    char *p &#x3D; NULL;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;[]方式</span><br><span class="line">    for (i &#x3D; 0; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        printf(&quot;%c&quot;, buf[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;指针方法</span><br><span class="line">    &#x2F;&#x2F;数组名字，数组首元素地址</span><br><span class="line">    p &#x3D; buf;</span><br><span class="line">    for (i &#x3D; 0; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        printf(&quot;%c&quot;, p[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line"></span><br><span class="line">    for (i &#x3D; 0; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        printf(&quot;%c&quot;, *(p+i) );</span><br><span class="line">    &#125;</span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line"></span><br><span class="line">    for (i &#x3D; 0; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        printf(&quot;%c&quot;, *(buf+i) );</span><br><span class="line">    &#125;</span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;buf和p完全等价吗？</span><br><span class="line">    &#x2F;&#x2F;p++;</span><br><span class="line">    &#x2F;&#x2F;buf++;</span><br><span class="line">    &#x2F;&#x2F;buf只是一个常量，不能修改</span><br><span class="line"></span><br><span class="line">    &#x2F;*</span><br><span class="line">        algjdlksajgldksjg</span><br><span class="line">        algjdlksajgldksjg</span><br><span class="line">        algjdlksajgldksjg</span><br><span class="line">        algjdlksajgldksjg</span><br><span class="line">     *&#x2F;</span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p><strong>字符串拷贝函数的实现</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line">#define _CRT_SECURE_NO_WARNINGS</span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &lt;stdlib.h&gt;</span><br><span class="line">#include &lt;string.h&gt;</span><br><span class="line"></span><br><span class="line">int main01(void)</span><br><span class="line">&#123;</span><br><span class="line">    char src[] &#x3D; &quot;abcedfdgds&quot;;</span><br><span class="line">    char dst[100] &#x3D; &#123; 0 &#125;;</span><br><span class="line">    int i &#x3D; 0;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    for (i &#x3D; 0; src[i] !&#x3D; &#39;\0&#39;; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        dst[i] &#x3D; src[i];</span><br><span class="line">    &#125;</span><br><span class="line">    &#x2F;&#x2F;补结束符</span><br><span class="line">    dst[i] &#x3D; 0;</span><br><span class="line"></span><br><span class="line">    printf(&quot;%s\n&quot;, dst);</span><br><span class="line"></span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void my_strcpy(char *dst, char *src)</span><br><span class="line">&#123;</span><br><span class="line">    int i &#x3D; 0;</span><br><span class="line"></span><br><span class="line">    for (i &#x3D; 0; *(src+i) !&#x3D; &#39;\0&#39;; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        *(dst+i) &#x3D; *(src+i); &#x2F;&#x2F;dst[i] &#x3D; src[i]</span><br><span class="line">    &#125;</span><br><span class="line">    &#x2F;&#x2F;补结束符</span><br><span class="line">    &#x2F;&#x2F;dst[i] &#x3D; 0;</span><br><span class="line">    *(dst + i) &#x3D; 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void my_strcpy2(char *dst, char *src)</span><br><span class="line">&#123;</span><br><span class="line">    while (*src !&#x3D; 0)</span><br><span class="line">    &#123;</span><br><span class="line">        *dst &#x3D; *src;</span><br><span class="line">        dst++;</span><br><span class="line">        src++;</span><br><span class="line">    &#125;</span><br><span class="line">    *dst &#x3D; 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void my_strcpy3(char *dst, char *src)</span><br><span class="line">&#123;</span><br><span class="line">    &#x2F;&#x2F;*dst &#x3D; *src</span><br><span class="line">    &#x2F;&#x2F;dst++， src++</span><br><span class="line">    &#x2F;&#x2F;判断 *dst是否为0, 为0跳出循环</span><br><span class="line">    while (*dst++ &#x3D; *src++)</span><br><span class="line">    &#123;</span><br><span class="line">        NULL;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;成功为0，失败非0</span><br><span class="line">&#x2F;&#x2F;1、判断形参指针是否为NULL</span><br><span class="line">&#x2F;&#x2F;2、最好不要直接使用形参</span><br><span class="line">int  my_strcpy4(char *dst, char *src)</span><br><span class="line">&#123;</span><br><span class="line">    if (dst &#x3D;&#x3D; NULL || src &#x3D;&#x3D; NULL)</span><br><span class="line">    &#123;</span><br><span class="line">        return -1;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;辅助变量把形参接过来</span><br><span class="line">    char *to &#x3D; dst;</span><br><span class="line">    char *from &#x3D; src;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;*dst &#x3D; *src</span><br><span class="line">    &#x2F;&#x2F;dst++， src++</span><br><span class="line">    &#x2F;&#x2F;判断 *dst是否为0, 为0跳出循环</span><br><span class="line">    while (*to++ &#x3D; *from++)</span><br><span class="line">    &#123;</span><br><span class="line">        NULL;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    printf(&quot;my_strcpy4: dst &#x3D; %s\n&quot;, dst);</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main(void)</span><br><span class="line">&#123;</span><br><span class="line">    char src[] &#x3D; &quot;abcedfdgds&quot;;</span><br><span class="line">    char dst[100] &#x3D; &#123; 0 &#125;;</span><br><span class="line">    int ret &#x3D; 0;</span><br><span class="line"></span><br><span class="line">    ret &#x3D; my_strcpy4(dst, src);</span><br><span class="line">    if (ret !&#x3D; 0)</span><br><span class="line">    &#123;</span><br><span class="line">        printf(&quot;my_strcpy4 err:%d\n&quot;, ret);</span><br><span class="line">        return ret;</span><br><span class="line">    &#125;</span><br><span class="line">    printf(&quot;%s\n&quot;, dst);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h2 id="3-2-项目开发常用字符串应用模型"><a href="#3-2-项目开发常用字符串应用模型" class="headerlink" title="3.2 项目开发常用字符串应用模型"></a>3.2 项目开发常用字符串应用模型</h2><p><strong>strstr中的while和do-while模型</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line">#define _CRT_SECURE_NO_WARNINGS</span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &lt;stdlib.h&gt;</span><br><span class="line">#include &lt;string.h&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;查找子串出现的次数</span><br><span class="line">int main01(void)</span><br><span class="line">&#123;</span><br><span class="line">    char *p &#x3D; &quot;11abcd111122abcd333abcd3322abcd3333322qqq&quot;;</span><br><span class="line">    int n &#x3D; 0;</span><br><span class="line"></span><br><span class="line">    do</span><br><span class="line">    &#123;</span><br><span class="line">        p &#x3D; strstr(p, &quot;abcd&quot;);</span><br><span class="line">        if (p !&#x3D; NULL)</span><br><span class="line">        &#123;</span><br><span class="line">            n++; &#x2F;&#x2F;累计个数</span><br><span class="line"></span><br><span class="line">            &#x2F;&#x2F;重新设置查找的起点</span><br><span class="line">            p &#x3D; p + strlen(&quot;abcd&quot;);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        else &#x2F;&#x2F;如果没有匹配的字符串，跳出循环</span><br><span class="line">        &#123;</span><br><span class="line">            break;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125; while (*p !&#x3D; 0); &#x2F;&#x2F;如果没有到结尾</span><br><span class="line"></span><br><span class="line">    printf(&quot;n &#x3D; %d\n&quot;, n);</span><br><span class="line"></span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">int main02(void)</span><br><span class="line">&#123;</span><br><span class="line">    char *p &#x3D; &quot;11abcd111122abcd333abcd3322abcd3333322qqq&quot;;</span><br><span class="line">    int n &#x3D; 0;</span><br><span class="line"></span><br><span class="line">    while (  ( p &#x3D; strstr(p, &quot;abcd&quot;) ) !&#x3D; NULL )</span><br><span class="line">    &#123;</span><br><span class="line">        &#x2F;&#x2F;能进来，肯定有匹配的子串</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F;重新设置起点位置</span><br><span class="line">        p &#x3D; p + strlen(&quot;abcd&quot;);</span><br><span class="line">        n++;</span><br><span class="line"></span><br><span class="line">        if (*p &#x3D;&#x3D; 0) &#x2F;&#x2F;如果到结束符</span><br><span class="line">        &#123;</span><br><span class="line">            break;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    printf(&quot;n &#x3D; %d\n&quot;, n);</span><br><span class="line"></span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int my_strstr(char *p, int *n)</span><br><span class="line">&#123;</span><br><span class="line">    &#x2F;&#x2F;辅助变量</span><br><span class="line">    int i &#x3D; 0;</span><br><span class="line">    char *tmp &#x3D; p;</span><br><span class="line"></span><br><span class="line">    while ((tmp &#x3D; strstr(tmp, &quot;abcd&quot;)) !&#x3D; NULL)</span><br><span class="line">    &#123;</span><br><span class="line">        &#x2F;&#x2F;能进来，肯定有匹配的子串</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F;重新设置起点位置</span><br><span class="line">        tmp &#x3D; tmp + strlen(&quot;abcd&quot;);</span><br><span class="line">        i++;</span><br><span class="line"></span><br><span class="line">        if (*tmp &#x3D;&#x3D; 0) &#x2F;&#x2F;如果到结束符</span><br><span class="line">        &#123;</span><br><span class="line">            break;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;间接赋值</span><br><span class="line">    *n &#x3D; i;</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main(void)</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">    char *p &#x3D; &quot;11abcd111122abcd333abcd3322abcd3333322qqq&quot;;</span><br><span class="line">    int n &#x3D; 0;</span><br><span class="line">    int ret &#x3D; 0;</span><br><span class="line"></span><br><span class="line">    ret &#x3D; my_strstr(p, &amp;n);</span><br><span class="line">    if (ret !&#x3D; 0)</span><br><span class="line">    &#123;</span><br><span class="line">        return ret;</span><br><span class="line">    &#125;</span><br><span class="line">    printf(&quot;n &#x3D; %d\n&quot;, n);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p><strong>两头堵模型</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br></pre></td><td class="code"><pre><span class="line">#define _CRT_SECURE_NO_WARNINGS</span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &lt;stdlib.h&gt;</span><br><span class="line">#include &lt;string.h&gt;</span><br><span class="line">#include &lt;ctype.h&gt;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;去首尾空格 求字符串长度</span><br><span class="line">int main01(void)</span><br><span class="line">&#123;</span><br><span class="line">    char *p &#x3D; &quot;      abcdefg      &quot;;</span><br><span class="line">    int begin &#x3D; 0;</span><br><span class="line">    int end &#x3D; strlen(p) - 1;</span><br><span class="line">    int n &#x3D; 0;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;从左边开始</span><br><span class="line">    &#x2F;&#x2F;如果当前字符为空，而且没有结束</span><br><span class="line">    while ( p[begin] &#x3D;&#x3D; &#39; &#39; &amp;&amp; p[begin] !&#x3D; 0)</span><br><span class="line">    &#123;</span><br><span class="line">        begin++; &#x2F;&#x2F;位置从右移动一位</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;如果当前字符为空，而且没有结束</span><br><span class="line">    while ( p[end] &#x3D;&#x3D; &#39; &#39; &amp;&amp; p[end] !&#x3D; 0)</span><br><span class="line">    &#123;</span><br><span class="line">        end--; &#x2F;&#x2F;往左移动</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    n &#x3D; end - begin + 1;</span><br><span class="line">    printf(&quot;n &#x3D; %d\n&quot;, n);</span><br><span class="line"></span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int fun(char *p, int *n)</span><br><span class="line">&#123;</span><br><span class="line">    if (p &#x3D;&#x3D; NULL || n &#x3D;&#x3D; NULL)</span><br><span class="line">    &#123;</span><br><span class="line">        return -1;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    int begin &#x3D; 0;</span><br><span class="line">    int end &#x3D; strlen(p) - 1;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;从左边开始</span><br><span class="line">    &#x2F;&#x2F;如果当前字符为空，而且没有结束</span><br><span class="line">    while (p[begin] &#x3D;&#x3D; &#39; &#39; &amp;&amp; p[begin] !&#x3D; 0)</span><br><span class="line">    &#123;</span><br><span class="line">        begin++; &#x2F;&#x2F;位置从右移动一位</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;如果当前字符为空，而且没有结束</span><br><span class="line">    while (p[end] &#x3D;&#x3D; &#39; &#39; &amp;&amp; p[end] !&#x3D; 0)</span><br><span class="line">    &#123;</span><br><span class="line">        end--; &#x2F;&#x2F;往左移动</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    *n &#x3D; end - begin + 1;</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int fun2(char *p, char *buf)</span><br><span class="line">&#123;</span><br><span class="line">    if (p &#x3D;&#x3D; NULL || buf &#x3D;&#x3D; NULL)</span><br><span class="line">    &#123;</span><br><span class="line">        return -1;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    int begin &#x3D; 0;</span><br><span class="line">    int end &#x3D; strlen(p) - 1;</span><br><span class="line">    int n &#x3D; 0;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;从左边开始</span><br><span class="line">    &#x2F;&#x2F;如果当前字符为空，而且没有结束</span><br><span class="line">    while (p[begin] &#x3D;&#x3D; &#39; &#39; &amp;&amp; p[begin] !&#x3D; 0)</span><br><span class="line">    &#123;</span><br><span class="line">        begin++; &#x2F;&#x2F;位置从右移动一位</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;如果当前字符为空，而且没有结束</span><br><span class="line">    while (p[end] &#x3D;&#x3D; &#39; &#39; &amp;&amp; p[end] !&#x3D; 0)</span><br><span class="line">    &#123;</span><br><span class="line">        end--; &#x2F;&#x2F;往左移动</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    n &#x3D; end - begin + 1; &#x2F;&#x2F;非空元素个数</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    strncpy(buf, p + begin, n);</span><br><span class="line">    buf[n] &#x3D; 0;</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main(void)</span><br><span class="line">&#123;</span><br><span class="line">    char *p &#x3D; &quot;      abcddsgadsgefg      &quot;;</span><br><span class="line">    int ret &#x3D; 0;</span><br><span class="line">    char buf[100] &#x3D; &#123; 0 &#125;;</span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F;将去首尾的串拷贝给buff</span><br><span class="line">    ret &#x3D; fun2(p, buf);</span><br><span class="line">    if (ret !&#x3D; 0)</span><br><span class="line">    &#123;</span><br><span class="line">        return ret;</span><br><span class="line">    &#125;</span><br><span class="line">    printf(&quot;buf &#x3D; %s\n&quot;, buf);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h2 id="3-3-const"><a href="#3-3-const" class="headerlink" title="3.3 const"></a>3.3 const</h2><p><strong>const的使用</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line">#define _CRT_SECURE_NO_WARNINGS</span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &lt;stdlib.h&gt;</span><br><span class="line">#include &lt;string.h&gt;</span><br><span class="line"></span><br><span class="line">typedef struct MyStruct</span><br><span class="line">&#123;</span><br><span class="line">    int a;</span><br><span class="line">    int b;</span><br><span class="line">&#125;MyStruct;</span><br><span class="line"></span><br><span class="line">void fun(MyStruct *p)</span><br><span class="line">&#123;</span><br><span class="line">    &#x2F;&#x2F;指针能变</span><br><span class="line">    &#x2F;&#x2F;p &#x3D; NULL;</span><br><span class="line">    &#x2F;&#x2F;指针指向的内存也可以变</span><br><span class="line">    &#x2F;&#x2F;p-&gt;a &#x3D; 10; &#x2F;&#x2F;ok</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void fun1(MyStruct const *p)</span><br><span class="line">&#123;</span><br><span class="line">    &#x2F;&#x2F;p &#x3D; NULL; &#x2F;&#x2F;ok</span><br><span class="line">    &#x2F;&#x2F;p-&gt;a &#x3D; 10; &#x2F;&#x2F;err</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void fun2(MyStruct  * const p)</span><br><span class="line">&#123;</span><br><span class="line">    &#x2F;&#x2F;p &#x3D; NULL; &#x2F;&#x2F;err</span><br><span class="line">    p-&gt;a &#x3D; 10;&#x2F;&#x2F;ok</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;p只读</span><br><span class="line">void fun3(MyStruct const * const p)</span><br><span class="line">&#123;</span><br><span class="line">    MyStruct tmp;</span><br><span class="line">    tmp.a &#x3D; p-&gt;a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main(void)</span><br><span class="line">&#123;</span><br><span class="line">    &#x2F;&#x2F;const修饰一个变量为只读</span><br><span class="line">    const int a &#x3D; 10;</span><br><span class="line">    &#x2F;&#x2F;a &#x3D; 100; &#x2F;&#x2F;err</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;指针变量， 指针指向的内存， 2个不同概念</span><br><span class="line">    char buf[] &#x3D; &quot;aklgjdlsgjlkds&quot;;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;从左往右看，跳过类型，看修饰哪个字符</span><br><span class="line">    &#x2F;&#x2F;1 如果是*， 说明指针指向的内存不能改变</span><br><span class="line">    &#x2F;&#x2F;2 如果是指针变量，说明指针的指向不能改变，指针的值不能修改</span><br><span class="line">    const char *p &#x3D; buf;&#x2F;&#x2F;1</span><br><span class="line">    &#x2F;&#x2F; 等价于上面 char const *p1 &#x3D; buf;</span><br><span class="line">    &#x2F;&#x2F;p[1] &#x3D; &#39;2&#39;; &#x2F;&#x2F;err</span><br><span class="line">    p &#x3D; &quot;agdlsjaglkdsajgl&quot;; &#x2F;&#x2F;ok</span><br><span class="line"></span><br><span class="line">    char * const p2 &#x3D; buf;</span><br><span class="line">    p2[1] &#x3D; &#39;3&#39;;</span><br><span class="line">    &#x2F;&#x2F;p2 &#x3D; &quot;salkjgldsjaglk&quot;; &#x2F;&#x2F;err</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;p3为只读，指向不能变，指向的内存也不能变</span><br><span class="line">    const char * const p3 &#x3D; buf;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;如何引用另外.c中const变量，了解</span><br><span class="line">    &#x2F;&#x2F;extern const int aa; &#x2F;&#x2F;不能再赋值，只能声明</span><br><span class="line">    &#x2F;&#x2F;printf(&quot;aa &#x3D; %d\n&quot;, aa);</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;const修饰的变量，只能定义时初始化</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;在c语言中, const是一个冒牌货</span><br><span class="line">    const int b &#x3D; 10;</span><br><span class="line">    &#x2F;&#x2F;b &#x3D; 100; &#x2F;&#x2F;err（不能直接修改）</span><br><span class="line">    &#x2F;&#x2F;但可以通过指针间接修改</span><br><span class="line">    int *q &#x3D; &amp;b;</span><br><span class="line">    *q &#x3D; 22;</span><br><span class="line">    printf(&quot;%d, %d\n&quot;, b, *q);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h1 id="4-二级指针"><a href="#4-二级指针" class="headerlink" title="4 二级指针"></a>4 二级指针</h1><p><a href="/2018/09/06/15362416453168/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-09-07%20%E4%B8%8B%E5%8D%888.48.09.png" data-fancybox="group" data-caption="屏幕快照 2018-09-07 下午8.48.09" class="fancybox"><img alt="屏幕快照 2018-09-07 下午8.48.09" title="屏幕快照 2018-09-07 下午8.48.09" data-src="/2018/09/06/15362416453168/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-09-07%20%E4%B8%8B%E5%8D%888.48.09.png" class="lazyload"></a></p>
<h2 id="4-1-二级指针输出特性"><a href="#4-1-二级指针输出特性" class="headerlink" title="4.1 二级指针输出特性"></a>4.1 二级指针输出特性</h2><p><strong>二级指针做参数输出特性</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">#define _CRT_SECURE_NO_WARNINGS</span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &lt;stdlib.h&gt;</span><br><span class="line">#include &lt;string.h&gt;</span><br><span class="line"></span><br><span class="line">int getMem(char *p)</span><br><span class="line">&#123;</span><br><span class="line">    p &#x3D; (char *)malloc(sizeof(char)* 100);</span><br><span class="line">    if (p &#x3D;&#x3D; NULL)</span><br><span class="line">    &#123;</span><br><span class="line">        return -1;</span><br><span class="line">    &#125;</span><br><span class="line">    strcpy(p, &quot;abdakg&quot;);</span><br><span class="line">    printf(&quot;p &#x3D; %s\n&quot;, p);</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int getMem2(char **p)</span><br><span class="line">&#123;</span><br><span class="line">    if (p &#x3D;&#x3D; NULL)</span><br><span class="line">    &#123;</span><br><span class="line">        return -1;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    char *tmp &#x3D; (char *)malloc(100);</span><br><span class="line">    if (tmp &#x3D;&#x3D; NULL)</span><br><span class="line">    &#123;</span><br><span class="line">        return -2;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    strcpy(tmp, &quot;ALGKJDLSJGLKDSJ&quot;);</span><br><span class="line"></span><br><span class="line">    *p &#x3D; tmp;</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main(void)</span><br><span class="line">&#123;</span><br><span class="line">    char *p &#x3D; NULL;</span><br><span class="line">    int ret &#x3D; 0;</span><br><span class="line"></span><br><span class="line">    ret &#x3D; getMem2(&amp;p);</span><br><span class="line">    if (ret !&#x3D; 0)</span><br><span class="line">    &#123;</span><br><span class="line">        printf(&quot;getMem err: %d\n&quot;, ret);</span><br><span class="line">        return ret;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    printf(&quot;p &#x3D; %s\n&quot;, p);</span><br><span class="line"></span><br><span class="line">    if (p !&#x3D; NULL)</span><br><span class="line">    &#123;</span><br><span class="line">        free(p);</span><br><span class="line">        p &#x3D; NULL;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h2 id="4-2-二级指针输入特性"><a href="#4-2-二级指针输入特性" class="headerlink" title="4.2 二级指针输入特性"></a>4.2 二级指针输入特性</h2><p><strong>二级指针做输入：第一种内存模型</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;指针数组</span><br><span class="line">char *myArray[] &#x3D; &#123;&quot;aaaaaa&quot;, &quot;ccccc&quot;, &quot;bbbbbb&quot;, &quot;111111&quot;&#125;;</span><br><span class="line"></span><br><span class="line">void printMyArray(char **myArray, int num); </span><br><span class="line">void sortMyArray(char **myArray, int num);</span><br></pre></td></tr></table></figure></div>

<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br></pre></td><td class="code"><pre><span class="line">#define _CRT_SECURE_NO_WARNINGS</span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &lt;stdlib.h&gt;</span><br><span class="line">#include &lt;string.h&gt;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;指针数组</span><br><span class="line">int main01(void)</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;每个类型都是char *</span><br><span class="line">    char *p0 &#x3D; &quot;111111111&quot;;</span><br><span class="line">    &#x2F;&#x2F;printf(&quot;%s\n&quot;, p0);</span><br><span class="line">    char *p1 &#x3D; &quot;000000000&quot;;</span><br><span class="line">    char *p2 &#x3D; &quot;bbbbbbbbb&quot;;</span><br><span class="line">    char *p3 &#x3D; &quot;aaaaaaaaa&quot;;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;指针数组，指针的数组，它是一个数组，每一个元素都是指针char *</span><br><span class="line">    char *p[] &#x3D; &#123; &quot;111111111&quot;, &quot;000000000&quot;, &quot;bbbbbbbbb&quot;, &quot;aaaaaaaaa&quot; &#125;;</span><br><span class="line">    &#x2F;&#x2F;p[0] &#x3D; &quot;111111111&quot;</span><br><span class="line">    int n &#x3D; sizeof(p) &#x2F; sizeof(p[0]);</span><br><span class="line">    printf(&quot;sizeof(p) &#x3D; %d, sizeof(p[0]) &#x3D; %d\n&quot;, sizeof(p), sizeof(p[0]));</span><br><span class="line"></span><br><span class="line">    int i &#x3D; 0;</span><br><span class="line">    for (i &#x3D; 0; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        printf(&quot;%s\n&quot;, p[i]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    char *q[10] &#x3D; &#123; &quot;111111111&quot;, &quot;000000000&quot;, &quot;bbbbbbbbb&quot;, &quot;aaaaaaaaa&quot; &#125;;</span><br><span class="line">    printf(&quot;sizeof(q) &#x3D; %d, sizeof(q[0]) &#x3D; %d\n&quot;, sizeof(q), sizeof(q[0]));</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main02(void)</span><br><span class="line">&#123;</span><br><span class="line">    &#x2F;&#x2F;指针数组，指针的数组，它是一个数组，每一个元素都是指针char *</span><br><span class="line">    char *p[] &#x3D; &#123; &quot;111111111&quot;, &quot;000000000&quot;, &quot;bbbbbbbbb&quot;, &quot;aaaaaaaaa&quot; &#125;;</span><br><span class="line">    &#x2F;&#x2F;char **q &#x3D; &#123; &quot;111111111&quot;, &quot;000000000&quot;, &quot;bbbbbbbbb&quot;, &quot;aaaaaaaaa&quot; &#125;; &#x2F;&#x2F;err</span><br><span class="line">    &#x2F;&#x2F;p[0] &#x3D; &quot;111111111&quot;</span><br><span class="line">    int n &#x3D; sizeof(p) &#x2F; sizeof(p[0]);</span><br><span class="line">    int i &#x3D; 0;</span><br><span class="line">    int j &#x3D; 0;</span><br><span class="line">    char *tmp &#x3D; NULL;</span><br><span class="line"></span><br><span class="line">    printf(&quot;排序前：\n&quot;);</span><br><span class="line">    for (i &#x3D; 0; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        printf(&quot;%s, &quot;, p[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;选择法排序</span><br><span class="line">    for (i &#x3D; 0; i &lt; n - 1; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        for (j &#x3D; i + 1; j &lt; n; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            if (strcmp(p[i], p[j]) &gt; 0)</span><br><span class="line">            &#123;</span><br><span class="line">                tmp &#x3D; p[i];</span><br><span class="line">                p[i] &#x3D; p[j];</span><br><span class="line">                p[j] &#x3D; tmp;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    printf(&quot;\n排序后：\n&quot;);</span><br><span class="line">    for (i &#x3D; 0; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        printf(&quot;%s, &quot;, p[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line">    system(&quot;pause&quot;);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void test(int a[])</span><br><span class="line">&#x2F;&#x2F;void test(int *a)</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void fun()</span><br><span class="line">&#123;</span><br><span class="line">    int a[10];</span><br><span class="line">    test(a);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;void print_array(char *p[], int n)</span><br><span class="line">void print_array(char **p, int n)</span><br><span class="line">&#123;</span><br><span class="line">    int i &#x3D; 0;</span><br><span class="line">    for (i &#x3D; 0; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        printf(&quot;%s, &quot;, p[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void sort_array(char **p, int n)</span><br><span class="line">&#123;</span><br><span class="line">    int i, j;</span><br><span class="line">    char *tmp;</span><br><span class="line">    for (i &#x3D; 0; i &lt; n - 1; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        for (j &#x3D; i + 1; j &lt; n; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            if (strcmp(p[i], p[j]) &gt; 0)</span><br><span class="line">            &#123;</span><br><span class="line">                tmp &#x3D; p[i];</span><br><span class="line">                p[i] &#x3D; p[j];</span><br><span class="line">                p[j] &#x3D; tmp;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main03(void)</span><br><span class="line">&#123;</span><br><span class="line">    &#x2F;&#x2F;指针数组，指针的数组，它是一个数组，每一个元素都是指针char *</span><br><span class="line">    char *p[] &#x3D; &#123; &quot;111111111&quot;, &quot;000000000&quot;, &quot;bbbbbbbbb&quot;, &quot;aaaaaaaaa&quot; &#125;;</span><br><span class="line">    &#x2F;&#x2F;char **q &#x3D; &#123; &quot;111111111&quot;, &quot;000000000&quot;, &quot;bbbbbbbbb&quot;, &quot;aaaaaaaaa&quot; &#125;; &#x2F;&#x2F;err</span><br><span class="line">    &#x2F;&#x2F;p[0] &#x3D; &quot;111111111&quot;</span><br><span class="line">    int n &#x3D; sizeof(p) &#x2F; sizeof(p[0]);</span><br><span class="line"></span><br><span class="line">    printf(&quot;排序前:\n&quot;);</span><br><span class="line">    print_array(p, n);</span><br><span class="line"></span><br><span class="line">    sort_array(p, n);</span><br><span class="line"></span><br><span class="line">    printf(&quot;\n排序后:\n&quot;);</span><br><span class="line">    print_array(p, n);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line">    system(&quot;pause&quot;);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p><strong>二级指针做输入：第二种内存模型</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">c</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> myArray[<span class="number">10</span>][<span class="number">30</span>] = &#123;<span class="string">"aaaaaa"</span>, <span class="string">"ccccc"</span>, <span class="string">"bbbbbbb"</span>, <span class="string">"1111111111111"</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printMyArray</span><span class="params">(<span class="keyword">char</span> myArray[<span class="number">10</span>][<span class="number">30</span>], <span class="keyword">int</span> num)</span></span>; </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sortMyArray</span><span class="params">(<span class="keyword">char</span> myArray[<span class="number">10</span>][<span class="number">30</span>], <span class="keyword">int</span> num)</span></span>;</span><br></pre></td></tr></table></figure></div>

<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line">#define _CRT_SECURE_NO_WARNINGS</span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &lt;stdlib.h&gt;</span><br><span class="line">#include &lt;string.h&gt;</span><br><span class="line"></span><br><span class="line">int main01(void)</span><br><span class="line">&#123;</span><br><span class="line">    char a0[30] &#x3D; &quot;22222222222&quot;;</span><br><span class="line">    char a1[30] &#x3D; &quot;11111111111&quot;;</span><br><span class="line">    char a2[30] &#x3D; &quot;bbbbbbbbbbb&quot;;</span><br><span class="line">    char a3[30] &#x3D; &quot;aaaaaaaaaaaa&quot;;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;4个a[30]的一维数组，二维数组</span><br><span class="line">    &#x2F;&#x2F;定义二维数组，不写第一个[]值有条件, 必须要初始化</span><br><span class="line">    &#x2F;&#x2F;a代表首行地址，首行地址和首行首元素地址有区别，但是他们的值是一样</span><br><span class="line">    &#x2F;&#x2F;区别：步长不一样</span><br><span class="line">    char a[][30] &#x3D; &#123; &quot;22222222222&quot;, &quot;11111111111&quot;, &quot;bbbbbbbbbbb&quot;, &quot;aaaaaaaaaaaa&quot; &#125;;</span><br><span class="line">    printf(&quot;a:%d, a+1: %d\n&quot;, a, a+1);</span><br><span class="line"></span><br><span class="line">    char b[30];</span><br><span class="line">    printf(&quot;&amp;b:%d, &amp;b+1:%d\n&quot;, &amp;b, &amp;b+1);</span><br><span class="line">    printf(&quot;b:%d, b+1:%d\n&quot;, b, b+1);</span><br><span class="line"></span><br><span class="line">    int n &#x3D; sizeof(a) &#x2F; sizeof(a[0]);</span><br><span class="line">    printf(&quot;n &#x3D; %d\n&quot;, n);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;a[0] &#x3D; &quot;22222222222&quot;</span><br><span class="line">    int i &#x3D; 0;</span><br><span class="line">    for (i &#x3D; 0; i &lt; 4; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        printf(&quot;%s\n&quot;,a[i]); &#x2F;&#x2F;首行地址，和首行首元素地址的值是一样</span><br><span class="line">        &#x2F;&#x2F; a+i, *(a+i)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line">    system(&quot;pause&quot;);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;不能通过 char ** 作为函数形参，因为指针+1步长不一样</span><br><span class="line">&#x2F;&#x2F; char **，指针+1步长为 4 个字节</span><br><span class="line">&#x2F;&#x2F; char a[][30]，指针+1步长为 1 行的长度，这里为 30 个字节</span><br><span class="line">void print_array_err(char **a, int n)</span><br><span class="line">&#123;</span><br><span class="line">    printf(&quot;a: %d, a+1:%d\n&quot;, a, a+1);</span><br><span class="line">    int i &#x3D; 0;</span><br><span class="line">    for (i &#x3D; 0; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        &#x2F;&#x2F;printf(&quot;%s\n&quot;, a[i]); &#x2F;&#x2F;首行地址，和首行首元素地址的值是一样</span><br><span class="line">        &#x2F;&#x2F; a+i, *(a+i)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void print_array(char a[][30], int n)</span><br><span class="line">&#123;</span><br><span class="line">    &#x2F;&#x2F;printf(&quot;a: %d, a+1:%d\n&quot;, a, a + 1);</span><br><span class="line">    int i &#x3D; 0;</span><br><span class="line">    for (i &#x3D; 0; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        printf(&quot;%s, &quot;, a[i]); &#x2F;&#x2F;首行地址，和首行首元素地址的值是一样</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void sort_array(char a[][30], int n)</span><br><span class="line">&#123;</span><br><span class="line">    int i &#x3D; 0;</span><br><span class="line">    int j &#x3D; 0;</span><br><span class="line">    char tmp[30];</span><br><span class="line"></span><br><span class="line">    for (i &#x3D; 0; i &lt; n - 1; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        for (j &#x3D; i + 1; j &lt; n; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            if (strcmp(a[i], a[j])&gt; 0)</span><br><span class="line">            &#123;</span><br><span class="line">                &#x2F;&#x2F;交换的内存块</span><br><span class="line">                strcpy(tmp, a[i]);</span><br><span class="line">                strcpy(a[i], a[j]);</span><br><span class="line">                strcpy(a[j], tmp);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main(void)</span><br><span class="line">&#123;</span><br><span class="line">    char a[][30] &#x3D; &#123; &quot;22222222222&quot;, &quot;11111111111&quot;, &quot;bbbbbbbbbbb&quot;, &quot;aaaaaaaaaaaa&quot; &#125;;</span><br><span class="line">    int n &#x3D; sizeof(a) &#x2F; sizeof(a[0]);</span><br><span class="line"></span><br><span class="line">    printf(&quot;before sort:\n&quot;);</span><br><span class="line">    print_array(a, n);</span><br><span class="line"></span><br><span class="line">    sort_array(a, n);</span><br><span class="line"></span><br><span class="line">    printf(&quot;\nafter sort:\n&quot;);</span><br><span class="line">    print_array(a, n);</span><br><span class="line"></span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line">    system(&quot;pause&quot;);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p><strong>二级指针做输入：第三种内存模型</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">c</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> **myArray = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">char</span> **<span class="title">getMem</span><span class="params">(<span class="keyword">int</span> num)</span></span>; </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printMyArray</span><span class="params">(<span class="keyword">char</span> **myArray, <span class="keyword">int</span> num)</span></span>; </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sortMyArray</span><span class="params">(<span class="keyword">char</span> **myArray, <span class="keyword">int</span> num)</span></span>; </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">arrayFree</span><span class="params">(<span class="keyword">char</span> **myArray, <span class="keyword">int</span> num)</span></span>;</span><br></pre></td></tr></table></figure></div>

<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br></pre></td><td class="code"><pre><span class="line">#define _CRT_SECURE_NO_WARNINGS</span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &lt;stdlib.h&gt;</span><br><span class="line">#include &lt;string.h&gt;</span><br><span class="line"></span><br><span class="line">int main01(void)</span><br><span class="line">&#123;</span><br><span class="line">    char *p0 &#x3D; NULL;</span><br><span class="line">    p0 &#x3D; (char *)malloc(100);</span><br><span class="line">    strcpy(p0, &quot;agdsgds&quot;);</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;10个char *， 每一个的值都是空</span><br><span class="line">    int i &#x3D; 0;</span><br><span class="line">    char *p[10] &#x3D; &#123; 0 &#125;;</span><br><span class="line">    for (i &#x3D; 0; i &lt; 10; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        p[i] &#x3D; malloc(100);</span><br><span class="line">        strcpy(p[i], &quot;agdsg&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    int a[10];</span><br><span class="line">    int *q &#x3D; (int *)malloc(10 * sizeof(int)); &#x2F;&#x2F;q[10]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;动态分配一个数组，每个元素都是char *</span><br><span class="line">    &#x2F;&#x2F;char *ch[10]</span><br><span class="line">    int n &#x3D; 3;</span><br><span class="line">    char **buf &#x3D; (char **)malloc(n * sizeof(char *)); &#x2F;&#x2F;char *buf[3]</span><br><span class="line">    if (buf &#x3D;&#x3D; NULL)</span><br><span class="line">    &#123;</span><br><span class="line">        return -1;</span><br><span class="line">    &#125;</span><br><span class="line">    for (i &#x3D; 0; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        buf[i] &#x3D; (char *)malloc(30 * sizeof(char));</span><br><span class="line">        char str[30];</span><br><span class="line">        sprintf(str, &quot;test%d%d&quot;, i, i);</span><br><span class="line">        strcpy(buf[i], str);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    for (i &#x3D; 0; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        printf(&quot;%s, &quot;, buf[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line"></span><br><span class="line">    for (i &#x3D; 0; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        free(buf[i]);</span><br><span class="line">        buf[i] &#x3D; NULL;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if (buf !&#x3D; NULL)</span><br><span class="line">    &#123;</span><br><span class="line">        free(buf);</span><br><span class="line">        buf &#x3D; NULL;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line">    system(&quot;pause&quot;);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">char **getMem(int n)</span><br><span class="line">&#123;</span><br><span class="line">    int i &#x3D; 0;</span><br><span class="line">    char **buf &#x3D; (char **)malloc(n * sizeof(char *)); &#x2F;&#x2F;char *buf[3]</span><br><span class="line">    if (buf &#x3D;&#x3D; NULL)</span><br><span class="line">    &#123;</span><br><span class="line">        return NULL;</span><br><span class="line">    &#125;</span><br><span class="line">    for (i &#x3D; 0; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        buf[i] &#x3D; (char *)malloc(30 * sizeof(char));</span><br><span class="line">        char str[30];</span><br><span class="line">        sprintf(str, &quot;test%d%d&quot;, i, i);</span><br><span class="line">        strcpy(buf[i], str);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return buf;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void print_buf(char **buf, int n)</span><br><span class="line">&#123;</span><br><span class="line">    int i &#x3D; 0;</span><br><span class="line">    for (i &#x3D; 0; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        printf(&quot;%s, &quot;, buf[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">void free_buf(char **buf, int n)</span><br><span class="line">&#123;</span><br><span class="line">    int i &#x3D; 0;</span><br><span class="line">    for (i &#x3D; 0; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        free(buf[i]);</span><br><span class="line">        buf[i] &#x3D; NULL;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if (buf !&#x3D; NULL)</span><br><span class="line">    &#123;</span><br><span class="line">        free(buf);</span><br><span class="line">        buf &#x3D; NULL;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">int main(void)</span><br><span class="line">&#123;</span><br><span class="line">    char **buf &#x3D; NULL;</span><br><span class="line">    int n &#x3D; 3;</span><br><span class="line"></span><br><span class="line">    buf &#x3D; getMem(n);</span><br><span class="line">    if (buf &#x3D;&#x3D; NULL)</span><br><span class="line">    &#123;</span><br><span class="line">        printf(&quot;getMem err\n&quot;);</span><br><span class="line">        return -1;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    print_buf(buf, n);</span><br><span class="line"></span><br><span class="line">    free_buf(buf, n);</span><br><span class="line">    buf &#x3D; NULL;</span><br><span class="line"></span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line">    system(&quot;pause&quot;);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h1 id="5-多维数组"><a href="#5-多维数组" class="headerlink" title="5 多维数组"></a>5 多维数组</h1><h2 id="一维数组"><a href="#一维数组" class="headerlink" title="一维数组"></a>一维数组</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">#define _CRT_SECURE_NO_WARNINGS</span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &lt;stdlib.h&gt;</span><br><span class="line">#include &lt;string.h&gt;</span><br><span class="line"></span><br><span class="line">int main(void)</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;int b[]; &#x2F;&#x2F;定义时必须初始化</span><br><span class="line">    int a1[100] &#x3D; &#123; 1, 2, 3, 4 &#125;; &#x2F;&#x2F;没有赋值的都为0</span><br><span class="line"></span><br><span class="line">    int a[] &#x3D; &#123; 1, 2, 3, 4, 5, 6, 7, 8&#125;;</span><br><span class="line">    &#x2F;&#x2F;sizeof()测变量所占的空间（变量所对应类型的空间）</span><br><span class="line"></span><br><span class="line">    int n &#x3D; 0;</span><br><span class="line">    int i &#x3D; 0;</span><br><span class="line">    &#x2F;&#x2F; sizeof(a) &#x3D; 4 * 8 &#x3D; 32 数组类型：由元素个数 和元素类型对应 int [8]</span><br><span class="line">    &#x2F;&#x2F;sizeof(a[0]) 首元素大小，每个元素4个字节</span><br><span class="line">    n &#x3D; sizeof(a) &#x2F; sizeof(a[0]); &#x2F;&#x2F;n &#x3D; 8</span><br><span class="line"></span><br><span class="line">    for (i &#x3D; 0; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        &#x2F;&#x2F;*(a+i) : a+i代表第I元素地址, *(a+i)指针指向的内存（取值）</span><br><span class="line">        &#x2F;&#x2F;[] * 等级</span><br><span class="line">        printf(&quot;%d &quot;, *(a + i));</span><br><span class="line">    &#125;</span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;数组类型</span><br><span class="line">    &#x2F;&#x2F;a代表首元素地址</span><br><span class="line">    &#x2F;&#x2F;&amp;a代表整个数组首地址，它和首元素地址一样的，但是，它们步长不一样</span><br><span class="line">    printf(&quot;a:%d, a+1:%d\n&quot;, a, a+1); &#x2F;&#x2F;+4</span><br><span class="line">    printf(&quot;&amp;a: %d, &amp;a+1:%d\n&quot;, &amp;a, &amp;a + 1); &#x2F;&#x2F;+32</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;数组类型：由元素个数 和元素类型对应 int [8]</span><br><span class="line">    &#x2F;&#x2F;通过typedf定义一个数组类型</span><br><span class="line">    &#x2F;&#x2F;有typedef是类型，没有是变量</span><br><span class="line">    typedef int A[8]; &#x2F;&#x2F;代表数组类型，它是一类型，不是变量</span><br><span class="line">    &#x2F;&#x2F;typedef int (A)[8];</span><br><span class="line"></span><br><span class="line">    A b; &#x2F;&#x2F; int b[8], 去了typedef, b替换到A的位置</span><br><span class="line"></span><br><span class="line">    for (i &#x3D; 0; i &lt; 8; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        b[i] &#x3D; 2*i + 1;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    for (i &#x3D; 0; i &lt; 8; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        &#x2F;&#x2F;printf(&quot;%d &quot;, b[i]);</span><br><span class="line">        printf(&quot;%d &quot;, *(b+i));</span><br><span class="line">    &#125;</span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line"></span><br><span class="line">    printf(&quot;b: %d, b+1:%d\n&quot;, b, b+1);</span><br><span class="line">    printf(&quot;&amp;b: %d, &amp;b+1:%d\n&quot;, &amp;b, &amp;b + 1);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line">    system(&quot;pause&quot;);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h2 id="数组指针"><a href="#数组指针" class="headerlink" title="数组指针"></a>数组指针</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;有typedef：类型</span><br><span class="line">&#x2F;&#x2F;没有typedef：变量</span><br><span class="line">1、根据数组类型，定义指针变量，数组指针变量</span><br><span class="line">2、直接定义数组指针变量（常用）</span><br><span class="line">3、先定义数组指针类型，再根据类型定义指针变量（常用）</span><br></pre></td></tr></table></figure></div>

<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br></pre></td><td class="code"><pre><span class="line">#define _CRT_SECURE_NO_WARNINGS</span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &lt;stdlib.h&gt;</span><br><span class="line">#include &lt;string.h&gt;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;argc: 传参数的个数（包含可执行程序）</span><br><span class="line">&#x2F;&#x2F;argv：指针数组，指向输入的参数</span><br><span class="line">int main01(int argc, char *argv[])</span><br><span class="line">&#123;</span><br><span class="line">    &#x2F;&#x2F;数组指针，指针数组</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;指针数组，它是数组，每个元素都是指针</span><br><span class="line">    &#x2F;&#x2F;[] 比 * 优先级高</span><br><span class="line">    char *a[] &#x3D; &#123; &quot;aaaaaaa&quot;, &quot;bbbbbbbbbb&quot;, &quot;ccccccc&quot; &#125;;</span><br><span class="line">    int i &#x3D; 0;</span><br><span class="line"></span><br><span class="line">    printf(&quot;argc &#x3D; %d\n&quot;, argc);</span><br><span class="line"></span><br><span class="line">    for (i &#x3D; 0; i &lt; argc; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        printf(&quot;%s\n&quot;, argv[i]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line">    system(&quot;pause&quot;);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;1、根据数组类型，定义指针变量，数组指针变量</span><br><span class="line">int main02(void)</span><br><span class="line">&#123;</span><br><span class="line">    &#x2F;&#x2F;数组指针，它是指针，指向一个数组的指针</span><br><span class="line">    &#x2F;&#x2F;数组指针，指向一维数组的整个数组，而不是首元素地址</span><br><span class="line">    &#x2F;&#x2F;定义数组指针变量</span><br><span class="line"></span><br><span class="line">    int a[10] &#x3D; &#123; 0 &#125;;</span><br><span class="line">    int i &#x3D; 0;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;1、先定义数组类型，根据类型定义指针变量</span><br><span class="line">    typedef int A[10]; &#x2F;&#x2F;A数组类型, [10]代表步长</span><br><span class="line">    &#x2F;&#x2F;p是指针，指向一个步长10的数组，p是数组指针</span><br><span class="line">    A *p &#x3D; NULL; &#x2F;&#x2F;p数组指针类型变量</span><br><span class="line">    &#x2F;&#x2F;p &#x3D; a; &#x2F;&#x2F;a代表首元素地址， a 和 &amp;a 一样，最终也是当做&amp;a，警告</span><br><span class="line">    p &#x3D; &amp;a; &#x2F;&#x2F;&amp;a代表整个数组首地址</span><br><span class="line"></span><br><span class="line">    printf(&quot;p:%d, p+1:%d\n&quot;, p, p + 1);</span><br><span class="line"></span><br><span class="line">    for (i &#x3D; 0; i &lt; 10; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        &#x2F;&#x2F;a[]</span><br><span class="line">        &#x2F;&#x2F; p &#x3D; &amp;a;</span><br><span class="line">        &#x2F;&#x2F; *p &#x3D; *&amp;a -&gt; a</span><br><span class="line">        (*p)[i] &#x3D; i + 1;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    for (i &#x3D; 0; i &lt; 10; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        printf(&quot;%d &quot;, (*p)[i] );</span><br><span class="line">    &#125;</span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line">    system(&quot;pause&quot;);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;3、先定义数组指针类型，再根据类型定义指针变量（常用）</span><br><span class="line">int main(void)</span><br><span class="line">&#123;</span><br><span class="line">    int a[10] &#x3D; &#123; 0 &#125;;</span><br><span class="line">    int i &#x3D; 0;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;2、先定义数组指针类型，根据类型定义变量</span><br><span class="line">    &#x2F;&#x2F;和指针数组写法很类似，多了()</span><br><span class="line">    &#x2F;&#x2F;() 和 []优先级一样，从左往右</span><br><span class="line">    &#x2F;&#x2F;()有指针，它是一个指针， []</span><br><span class="line">    &#x2F;&#x2F;指向数组的指针，它有typedef，所以它是一个数组指针类型</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;int[2][3]  一个长度为2的数组，每个数组存放的类型是长度为3的数组</span><br><span class="line"></span><br><span class="line">    typedef int(*P)[10];&#x2F;&#x2F;(*P)是指针，[10]代表步长为10，该指针指向一个步长10的数组，所以是数组指针类型</span><br><span class="line">    P q; &#x2F;&#x2F;数组指针变量</span><br><span class="line">    q &#x3D; &amp;a;</span><br><span class="line"></span><br><span class="line">    for (i &#x3D; 0; i &lt; 10; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        &#x2F;&#x2F; *q &#x3D; *&amp;a -&gt; a</span><br><span class="line">        (*q)[i] &#x3D; 2*i + 1;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    for (i &#x3D; 0; i &lt; 10; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        printf(&quot;%d &quot;, (*q)[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line">    system(&quot;pause&quot;);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void fun(void * a)</span><br><span class="line">&#123;</span><br><span class="line">    printf(&quot;%d\n&quot;, (int)a);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;2、直接定义数组指针变量（常用）</span><br><span class="line">int main04(void)</span><br><span class="line">&#123;</span><br><span class="line">    int t &#x3D; 10;</span><br><span class="line">    fun((void *)t);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    int a[10] &#x3D; &#123; 0 &#125;;</span><br><span class="line">    &#x2F;&#x2F;a[11] &#x3D; 10;</span><br><span class="line"></span><br><span class="line">    int i &#x3D; 0;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;2、直接定义数组指针变量</span><br><span class="line">    &#x2F;&#x2F;和指针数组写法很类似，多了()</span><br><span class="line">    &#x2F;&#x2F;() 和 []优先级一样，从左往右</span><br><span class="line">    &#x2F;&#x2F;()有指针，它是一个指针， []</span><br><span class="line">    &#x2F;&#x2F;指向数组的指针， 没有typedef，所以它是一个数组指针变量</span><br><span class="line">    int(*q)[10]; &#x2F;&#x2F;q数组指针变量</span><br><span class="line">    q &#x3D; &amp;a; &#x2F;&#x2F;q指向a数组</span><br><span class="line"></span><br><span class="line">    for (i &#x3D; 0; i &lt; 10; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        (*q)[i] &#x3D; 3 * i + 1;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    for (i &#x3D; 0; i &lt; 10; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        printf(&quot;%d &quot;, (*q)[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line">    system(&quot;pause&quot;);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h2 id="多维数组名的本质"><a href="#多维数组名的本质" class="headerlink" title="多维数组名的本质"></a>多维数组名的本质</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">c</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>）二维数组初始化</span><br><span class="line"><span class="keyword">int</span> a1[<span class="number">3</span>][<span class="number">4</span>] = &#123;</span><br><span class="line">	&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;,</span><br><span class="line">	&#123;<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>&#125;,</span><br><span class="line">	&#123;<span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>&#125;</span><br><span class="line">&#125;; </span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> a2[<span class="number">3</span>][<span class="number">4</span>] = &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> a3[][<span class="number">4</span>] = &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span> &#125;;</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line"><span class="number">2</span>）内存中并不存在多维数组，多维数组在内存中都是线性存储</span><br><span class="line"><span class="keyword">int</span> a[<span class="number">3</span>][<span class="number">5</span>] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line"><span class="keyword">int</span> *b = (<span class="keyword">int</span> *)a;</span><br><span class="line"><span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; <span class="number">15</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d "</span>, b[i]);</span><br><span class="line">&#125;</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>）多维数组名</span><br><span class="line">	</span><br><span class="line"><span class="comment">//学会类比</span></span><br><span class="line"><span class="keyword">int</span> b[<span class="number">5</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">b: 首行首元素地址（一级指针）， +<span class="number">1</span>，跳 <span class="number">4</span> 个字节</span><br><span class="line">&amp;b：首行地址（二级指针），+<span class="number">1</span>，跳 <span class="number">4</span>*<span class="number">5</span> = <span class="number">20</span>个字节</span><br><span class="line">	</span><br><span class="line"><span class="comment">//二维数组实际上就是 N 个一维数组</span></span><br><span class="line"><span class="comment">//把二维数组第一个[]的值看做标志位，0 -&gt; 2</span></span><br><span class="line"><span class="comment">//第0个一维数组a[5] -&gt; 第2个一维数组a[5]</span></span><br><span class="line"><span class="keyword">int</span> a[<span class="number">3</span>][<span class="number">5</span>] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line">a：</span><br><span class="line">二维数组首元素地址</span><br><span class="line">代表首行地址，相当于一维数组整个数组的地址，相当于上面的 &amp;b，本来就是一个二级指针</span><br><span class="line">	</span><br><span class="line"><span class="comment">//(重要)首行地址  --&gt; 首行首元素地址（加*）</span></span><br><span class="line">*a：首行首元素地址，相当于一维数组首元素地址，相当于上面的 b</span><br><span class="line">	</span><br><span class="line">a + i -&gt; &amp;a[i]: 第i行地址</span><br><span class="line">	</span><br><span class="line"><span class="comment">//(重要)某行地址  --&gt; 某行首元素地址（加*）</span></span><br><span class="line">*(a+i) -&gt; *&amp;a[i] -&gt; a[i]: 第i行首元素地址</span><br><span class="line">	</span><br><span class="line"><span class="comment">//第i行j列元素的地址，某行首元素地址 + 偏移量</span></span><br><span class="line">*(a+i)+j -&gt; a[i]+j -&gt; &amp;a[i][j]: 第i行j列元素的地址</span><br><span class="line">	</span><br><span class="line"><span class="comment">//第i行j列元素的值，第i行j列元素的地址的基础上（加 *）</span></span><br><span class="line">*(*(a+i)+j) -&gt; a[i][j]: 第i行j列元素的值</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line"><span class="keyword">int</span> a[<span class="number">3</span>][<span class="number">5</span>] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line"><span class="keyword">sizeof</span>(a): 二维数组整个数组长度，<span class="number">4</span> * <span class="number">3</span> * <span class="number">5</span> = <span class="number">60</span></span><br><span class="line"><span class="keyword">sizeof</span>(a[<span class="number">0</span>])：a[<span class="number">0</span>]为第<span class="number">0</span>行首元素地址，相当于测第<span class="number">0</span>行一维数组的长度：<span class="number">4</span> * <span class="number">5</span> = <span class="number">20</span></span><br><span class="line"><span class="keyword">sizeof</span>(a[<span class="number">0</span>][<span class="number">0</span>])：a[<span class="number">0</span>][<span class="number">0</span>]为第<span class="number">0</span>第<span class="number">0</span>列元素（是元素，不是地址），测某个元素长度：<span class="number">4</span>字节</span><br><span class="line">	</span><br><span class="line"><span class="number">4</span>）多维数组名，实际上是一个数组指针，指向数组的指针，步长为一行字节长度</span><br><span class="line">	</span><br><span class="line"><span class="keyword">int</span> a[<span class="number">3</span>][<span class="number">5</span>] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line">	</span><br><span class="line"><span class="comment">//定义一个数组指针类型的变量</span></span><br><span class="line"><span class="keyword">int</span>(*p)[<span class="number">5</span>];</span><br><span class="line">	</span><br><span class="line"><span class="comment">//编译会有警告，但不会出错，因为 a 和 &amp;a的值一样</span></span><br><span class="line"><span class="comment">//但是&amp;a代表整个二维数组的首地址</span></span><br><span class="line"><span class="comment">//就算p = &amp;a这样赋值，编译器内部也会自动转换为 p = a</span></span><br><span class="line"><span class="comment">//不建议这么做</span></span><br><span class="line">p = &amp;a; </span><br><span class="line">	</span><br><span class="line"><span class="comment">//a 本来就是第0个一维数组整个数组的地址，所以，无需加&amp;</span></span><br><span class="line">p = a; </span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line"><span class="number">5</span>）二维数组做形参的三种形式</span><br><span class="line"><span class="comment">//一维数组做函数参数退化为一级指针</span></span><br><span class="line"><span class="comment">//二维数组（多维数组）做函数参数，退化为数组指针</span></span><br><span class="line">	</span><br><span class="line"><span class="keyword">int</span> a[<span class="number">3</span>][<span class="number">5</span>] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line">	</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print_array1</span><span class="params">(<span class="keyword">int</span> a[<span class="number">3</span>][<span class="number">5</span>])</span></span>;</span><br><span class="line">	</span><br><span class="line"><span class="comment">//第一维的数组，可以不写</span></span><br><span class="line"><span class="comment">//第二维必须写，代表步长，确定指针+1的步长 5*4</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print_array2</span><span class="params">(<span class="keyword">int</span> a[][<span class="number">5</span>])</span></span></span><br><span class="line"><span class="function">	</span></span><br><span class="line"><span class="function"><span class="comment">//形参为数组指针变量，[]的数字代表步长</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print_array3</span><span class="params">(<span class="keyword">int</span> (*a)[<span class="number">5</span>])</span></span>;</span><br><span class="line">	</span><br><span class="line"><span class="comment">//a+1和二维数组的步长不一样</span></span><br><span class="line"><span class="comment">//这里的步长为4</span></span><br><span class="line"><span class="comment">//上面二维数组的步长为 5 * 4 = 20</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print_array3</span><span class="params">(<span class="keyword">int</span> **a)</span></span>; <span class="comment">//err</span></span><br></pre></td></tr></table></figure></div>

</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Machine</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://machine4869.gitee.io/2018/09/06/15362416453168/">https://machine4869.gitee.io/2018/09/06/15362416453168/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://machine4869.gitee.io">哑舍</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/c-c/">c_c++    </a></div><div class="post_share"><div class="social-share" data-image="/img/default_p12.jpeg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"> <i class="fa fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="lazyload post-qr-code__img" src="/img/wechat.png" alt="微信"><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="lazyload post-qr-code__img" src="/img/alipay.jpg" alt="支付宝"><div class="post-qr-code__desc">支付宝</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2018/09/07/15363344131459/"><img class="prev_cover lazyload" data-src="/img/default_p7.jpeg" onerror="onerror=null;src='/img/404.jpg'"><div class="label">上一篇</div><div class="prev_info"><span>01_C语言提高（2）</span></div></a></div><div class="next-post pull_right"><a href="/2018/08/15/15343253464770/"><img class="next_cover lazyload" data-src="/img/default_p9.jpeg" onerror="onerror=null;src='/img/404.jpg'"><div class="label">下一篇</div><div class="next_info"><span>MAC下apache＋php 配置</span></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> 相关推荐</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2018/10/08/15389750260474/" title="glib-The Main Event Loop"><img class="relatedPosts_cover lazyload"data-src="/img/default_p8.jpeg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2018-10-08</div><div class="relatedPosts_title">glib-The Main Event Loop</div></div></a></div><div class="relatedPosts_item"><a href="/2018/09/29/15382179403318/" title="C语言实现socket通信"><img class="relatedPosts_cover lazyload"data-src="/img/default_p9.jpeg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2018-09-29</div><div class="relatedPosts_title">C语言实现socket通信</div></div></a></div><div class="relatedPosts_item"><a href="/2018/09/07/15363344131459/" title="01_C语言提高（2）"><img class="relatedPosts_cover lazyload"data-src="/img/default_p7.jpeg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2018-09-07</div><div class="relatedPosts_title">01_C语言提高（2）</div></div></a></div><div class="relatedPosts_item"><a href="/2018/02/24/15326721810026/" title="C语言笔记"><img class="relatedPosts_cover lazyload"data-src="/img/default_p6.jpeg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2018-02-24</div><div class="relatedPosts_title">C语言笔记</div></div></a></div></div><div class="clear_both"></div></div><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> 评论</span></div><div class="vcomment" id="vcomment"></div><script src="https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script><script>var notify = true == true ? true : false;
var verify = false == true ? true : false;
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;

window.valine = new Valine({
  el:'#vcomment',
  notify:notify,
  verify:verify,
  appId:'yPVvDIaWlODDhs0bbECwLIIp-gzGzoHsz',
  appKey:'VyOIa40LxnjURzW1HUCiwTpV',
  placeholder:'记得留下你的昵称及邮箱，以便收到答复~',
  avatar:'monsterid',
  guest_info:guest_info,
  pageSize:'10',
  lang:'zh-cn',
  recordIP: true
});</script></div></div></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2018 - 2020 By Machine</div><div class="framework-info"><span>驱动 </span><a href="http://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div><div class="footer_custom_text">Hi, welcome to my <a href="https://machine4869.gitee.io/">blog</a>!</div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换" target="_self">简</a><i class="darkmode fa fa-moon-o" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="直达评论"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script id="canvas_nest" color="215,215,215" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/js/canvas-nest.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async=""></script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="noopener" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>